[debug] [2020-10-04T11:51:38.245Z] ----------------------------------------------------------------------
[debug] [2020-10-04T11:51:38.248Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2020-10-04T11:51:38.248Z] CLI Version:   8.11.2
[debug] [2020-10-04T11:51:38.248Z] Platform:      win32
[debug] [2020-10-04T11:51:38.249Z] Node Version:  v10.16.2
[debug] [2020-10-04T11:51:38.250Z] Time:          Sun Oct 04 2020 13:51:38 GMT+0200 (GMT+02:00)
[debug] [2020-10-04T11:51:38.250Z] ----------------------------------------------------------------------
[debug] [2020-10-04T11:51:38.250Z] 
[debug] [2020-10-04T11:51:38.261Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2020-10-04T11:51:38.262Z] > authorizing via signed-in user
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2020-10-04T11:51:40.292Z] [hub] writing locator at C:\Users\RAFA~1\AppData\Local\Temp\hub-clone-98d35.json
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, hosting, pubsub {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, hosting, pubsub\u001b[22m"}}
[info] +  functions: Using node@10 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@10 from host."}}
[debug] [2020-10-04T11:51:42.335Z] defaultcredentials: writing to file C:\Users\Rafał\AppData\Roaming\firebase\rafall_borowski_gmail.com_application_default_credentials.json
[debug] [2020-10-04T11:51:42.338Z] Setting GAC to C:\Users\Rafał\AppData\Roaming\firebase\rafall_borowski_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Rafał\\AppData\\Roaming\\firebase\\rafall_borowski_gmail.com_application_default_credentials.json"}}
[debug] [2020-10-04T11:51:46.354Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2020-10-04T11:51:46.355Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2020-10-04T11:51:46.355Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\Rafał\\.cache\\firebase\\emulators\\ui-v1.1.1\\server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\Rafał\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.1.1\\\\server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2020-10-04T11:51:46.558Z] Web / API server started at http://localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4000\n"}}
[info] i  functions: Watching "C:\Users\Rafał\Desktop\amazon-clone-react\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\" for Cloud Functions..."}}
[debug] [2020-10-04T11:51:46.883Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-10-04T11:51:46.883Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-10-04T11:51:46.884Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-10-04T11:51:46.884Z] [worker-~diagnostic~-b73681bc-472b-45db-84bb-85500e9b6dd9]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\13876 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b73681bc-472b-45db-84bb-85500e9b6dd9]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\13876"}}
[debug] [2020-10-04T11:51:46.885Z] [worker-~diagnostic~-b73681bc-472b-45db-84bb-85500e9b6dd9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b73681bc-472b-45db-84bb-85500e9b6dd9]: BUSY"}}
[debug] [2020-10-04T11:51:47.455Z] [runtime-status] [13876] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13876] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T11:51:47.458Z] [runtime-status] [13876] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13876] Disabled runtime features: undefined"}}
[debug] [2020-10-04T11:51:47.466Z] [runtime-status] [13876] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13876] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T11:51:47.469Z] [runtime-status] [13876] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13876] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T11:51:47.470Z] [runtime-status] [13876] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13876] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T11:51:47.474Z] [runtime-status] [13876] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13876] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T11:51:47.475Z] [runtime-status] [13876] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13876] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T11:51:47.531Z] [runtime-status] [13876] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13876] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T11:51:47.532Z] [runtime-status] [13876] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13876] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T11:51:47.532Z] [runtime-status] [13876] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13876] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T11:51:47.534Z] [runtime-status] [13876] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13876] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T11:51:47.534Z] [runtime-status] [13876] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13876] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T11:51:47.535Z] [runtime-status] [13876] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13876] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] +  functions[api]: http function initialized (http://localhost:5001/clone-98d35/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/clone-98d35/us-central1/api)."}}
[info] 
┌───────────────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! View status and logs at http://localhost:4000 │
└───────────────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Other reserved ports: 4400, 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2020-10-04T11:51:47.759Z] [worker-~diagnostic~-b73681bc-472b-45db-84bb-85500e9b6dd9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b73681bc-472b-45db-84bb-85500e9b6dd9]: IDLE"}}
[debug] [2020-10-04T12:06:11.732Z] File C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js changed, reloading triggers"}}
[debug] [2020-10-04T12:06:12.733Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-10-04T12:06:12.733Z] [worker-~diagnostic~-b73681bc-472b-45db-84bb-85500e9b6dd9]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b73681bc-472b-45db-84bb-85500e9b6dd9]: FINISHING"}}
[debug] [2020-10-04T12:06:12.739Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-10-04T12:06:12.739Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-10-04T12:06:12.739Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-10-04T12:06:12.739Z] [worker-~diagnostic~-34048dd1-ea70-4290-b93c-05030b530391]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\22248 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-34048dd1-ea70-4290-b93c-05030b530391]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\22248"}}
[debug] [2020-10-04T12:06:12.740Z] [worker-~diagnostic~-34048dd1-ea70-4290-b93c-05030b530391]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-34048dd1-ea70-4290-b93c-05030b530391]: BUSY"}}
[debug] [2020-10-04T12:06:12.742Z] [worker-~diagnostic~-b73681bc-472b-45db-84bb-85500e9b6dd9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b73681bc-472b-45db-84bb-85500e9b6dd9]: exited"}}
[debug] [2020-10-04T12:06:12.742Z] [worker-~diagnostic~-b73681bc-472b-45db-84bb-85500e9b6dd9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b73681bc-472b-45db-84bb-85500e9b6dd9]: FINISHED"}}
[debug] [2020-10-04T12:06:13.425Z] [runtime-status] [22248] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22248] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T12:06:13.428Z] [runtime-status] [22248] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22248] Disabled runtime features: undefined"}}
[debug] [2020-10-04T12:06:13.434Z] [runtime-status] [22248] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22248] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:06:13.436Z] [runtime-status] [22248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:06:13.437Z] [runtime-status] [22248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:06:13.441Z] [runtime-status] [22248] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22248] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T12:06:13.442Z] [runtime-status] [22248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:06:13.509Z] [runtime-status] [22248] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22248] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T12:06:13.509Z] [runtime-status] [22248] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22248] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:06:13.510Z] [runtime-status] [22248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:06:13.513Z] [runtime-status] [22248] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22248] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:06:13.515Z] [runtime-status] [22248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:06:13.517Z] [runtime-status] [22248] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22248] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:06:13.705Z] [worker-~diagnostic~-34048dd1-ea70-4290-b93c-05030b530391]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-34048dd1-ea70-4290-b93c-05030b530391]: IDLE"}}
[debug] [2020-10-04T12:07:53.935Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-10-04T12:07:53.935Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-10-04T12:07:53.936Z] Accepted request GET /clone-98d35/us-central1/api --> api
[debug] [2020-10-04T12:07:53.936Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-10-04T12:07:53.939Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T12:07:53.940Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-10-04T12:07:53.940Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T12:07:53.940Z] [worker-api-71c69015-857a-4838-bb2a-6fcfea3f800d]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\20760 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-71c69015-857a-4838-bb2a-6fcfea3f800d]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\20760"}}
[debug] [2020-10-04T12:07:53.940Z] [worker-api-71c69015-857a-4838-bb2a-6fcfea3f800d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-71c69015-857a-4838-bb2a-6fcfea3f800d]: BUSY"}}
[debug] [2020-10-04T12:07:54.510Z] [runtime-status] [20760] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20760] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T12:07:54.512Z] [runtime-status] [20760] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20760] Disabled runtime features: undefined"}}
[debug] [2020-10-04T12:07:54.517Z] [runtime-status] [20760] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20760] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:07:54.519Z] [runtime-status] [20760] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20760] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:07:54.519Z] [runtime-status] [20760] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20760] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:07:54.527Z] [runtime-status] [20760] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20760] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T12:07:54.528Z] [runtime-status] [20760] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20760] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:07:54.582Z] [runtime-status] [20760] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20760] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T12:07:54.582Z] [runtime-status] [20760] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20760] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:07:54.583Z] [runtime-status] [20760] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20760] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:07:54.584Z] [runtime-status] [20760] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20760] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:07:54.585Z] [runtime-status] [20760] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20760] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:07:54.585Z] [runtime-status] [20760] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20760] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:07:54.764Z] [runtime-status] [20760] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20760] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T12:07:54.766Z] [runtime-status] [20760] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20760] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T12:07:54.766Z] [runtime-status] [20760] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20760] Running api in mode HTTPS"}}
[debug] [2020-10-04T12:07:54.770Z] [runtime-status] [20760] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\20760 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20760] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\20760"}}
[debug] [2020-10-04T12:07:54.775Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T12:07:54.785Z] [runtime-status] [20760] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20760] Ephemeral server handling GET request"}}
[debug] [2020-10-04T12:07:54.792Z] [runtime-status] [20760] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20760] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-10-04T12:07:54.797Z] [worker-api-71c69015-857a-4838-bb2a-6fcfea3f800d]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-71c69015-857a-4838-bb2a-6fcfea3f800d]: IDLE"}}
[debug] [2020-10-04T12:07:54.797Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-10-04T12:14:22.189Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-10-04T12:14:22.190Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-10-04T12:14:22.190Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=0 --> api
[debug] [2020-10-04T12:14:22.190Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T12:14:22.190Z] [worker-api-71c69015-857a-4838-bb2a-6fcfea3f800d]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\20760 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-71c69015-857a-4838-bb2a-6fcfea3f800d]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\20760"}}
[debug] [2020-10-04T12:14:22.190Z] [worker-api-71c69015-857a-4838-bb2a-6fcfea3f800d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-71c69015-857a-4838-bb2a-6fcfea3f800d]: BUSY"}}
[debug] [2020-10-04T12:14:22.191Z] [runtime-status] [20760] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20760] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T12:14:22.193Z] [runtime-status] [20760] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20760] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T12:14:22.194Z] [runtime-status] [20760] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20760] Running api in mode HTTPS"}}
[debug] [2020-10-04T12:14:22.194Z] [runtime-status] [20760] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\20760 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20760] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\20760"}}
[debug] [2020-10-04T12:14:22.197Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T12:14:22.204Z] [runtime-status] [20760] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20760] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0"}}
[debug] [2020-10-04T12:14:22.210Z] [runtime-status] [20760] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20760] Ephemeral server survived."}}
[info] >  (node:20760) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:20760) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:20760) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:20760) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:20760) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:20760) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:20760) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:20760) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:20760) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-10-04T12:14:42.985Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-10-04T12:14:42.985Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-10-04T12:14:42.985Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=2999 --> api
[debug] [2020-10-04T12:14:42.990Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T12:14:42.990Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-10-04T12:14:42.990Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T12:14:42.991Z] [worker-api-70a6bce3-e2ee-4e4a-9a7c-6bb64457a55d]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\8080 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-70a6bce3-e2ee-4e4a-9a7c-6bb64457a55d]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\8080"}}
[debug] [2020-10-04T12:14:42.991Z] [worker-api-70a6bce3-e2ee-4e4a-9a7c-6bb64457a55d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-70a6bce3-e2ee-4e4a-9a7c-6bb64457a55d]: BUSY"}}
[debug] [2020-10-04T12:14:43.657Z] [runtime-status] [8080] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8080] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T12:14:43.659Z] [runtime-status] [8080] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8080] Disabled runtime features: undefined"}}
[debug] [2020-10-04T12:14:43.664Z] [runtime-status] [8080] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8080] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:14:43.668Z] [runtime-status] [8080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:14:43.669Z] [runtime-status] [8080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:14:43.677Z] [runtime-status] [8080] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8080] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T12:14:43.678Z] [runtime-status] [8080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:14:43.742Z] [runtime-status] [8080] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8080] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T12:14:43.743Z] [runtime-status] [8080] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8080] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:14:43.743Z] [runtime-status] [8080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:14:43.746Z] [runtime-status] [8080] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8080] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:14:43.747Z] [runtime-status] [8080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:14:43.748Z] [runtime-status] [8080] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8080] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:14:43.967Z] [runtime-status] [8080] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8080] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T12:14:43.968Z] [runtime-status] [8080] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8080] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T12:14:43.968Z] [runtime-status] [8080] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8080] Running api in mode HTTPS"}}
[debug] [2020-10-04T12:14:43.973Z] [runtime-status] [8080] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\8080 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8080] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\8080"}}
[debug] [2020-10-04T12:14:43.979Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T12:14:43.988Z] [runtime-status] [8080] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8080] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  2999 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  2999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  2999"}}
[debug] [2020-10-04T12:14:43.995Z] [runtime-status] [8080] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8080] Ephemeral server survived."}}
[info] >  (node:8080) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:8080) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8080) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:8080) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:8080) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8080) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:8080) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:8080) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8080) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)\r"}}
[debug] [2020-10-04T12:15:22.211Z] [worker-api-71c69015-857a-4838-bb2a-6fcfea3f800d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-71c69015-857a-4838-bb2a-6fcfea3f800d]: exited"}}
[debug] [2020-10-04T12:15:22.211Z] [worker-api-71c69015-857a-4838-bb2a-6fcfea3f800d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-71c69015-857a-4838-bb2a-6fcfea3f800d]: FINISHED"}}
[debug] [2020-10-04T12:15:22.212Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)\r"}}
[debug] [2020-10-04T12:15:43.985Z] [worker-api-70a6bce3-e2ee-4e4a-9a7c-6bb64457a55d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-70a6bce3-e2ee-4e4a-9a7c-6bb64457a55d]: exited"}}
[debug] [2020-10-04T12:15:43.985Z] [worker-api-70a6bce3-e2ee-4e4a-9a7c-6bb64457a55d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-70a6bce3-e2ee-4e4a-9a7c-6bb64457a55d]: FINISHED"}}
[debug] [2020-10-04T12:15:43.986Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-10-04T12:22:24.259Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-10-04T12:22:24.259Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-10-04T12:22:24.259Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=29997.000000000004 --> api
[debug] [2020-10-04T12:22:24.259Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2020-10-04T12:22:24.263Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T12:22:24.264Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-10-04T12:22:24.264Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T12:22:24.264Z] [worker-api-97885fb1-7819-4b2f-8147-2a5fb63532dd]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\836 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-97885fb1-7819-4b2f-8147-2a5fb63532dd]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\836"}}
[debug] [2020-10-04T12:22:24.264Z] [worker-api-97885fb1-7819-4b2f-8147-2a5fb63532dd]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-97885fb1-7819-4b2f-8147-2a5fb63532dd]: BUSY"}}
[debug] [2020-10-04T12:22:24.916Z] [runtime-status] [836] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [836] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T12:22:24.919Z] [runtime-status] [836] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [836] Disabled runtime features: undefined"}}
[debug] [2020-10-04T12:22:24.928Z] [runtime-status] [836] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [836] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:22:24.931Z] [runtime-status] [836] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [836] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:22:24.932Z] [runtime-status] [836] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [836] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:22:24.936Z] [runtime-status] [836] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [836] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T12:22:24.937Z] [runtime-status] [836] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [836] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:22:24.998Z] [runtime-status] [836] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [836] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T12:22:24.998Z] [runtime-status] [836] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [836] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:22:24.999Z] [runtime-status] [836] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [836] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:22:25.001Z] [runtime-status] [836] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [836] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:22:25.001Z] [runtime-status] [836] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [836] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:22:25.001Z] [runtime-status] [836] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [836] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:22:25.194Z] [runtime-status] [836] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [836] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T12:22:25.195Z] [runtime-status] [836] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [836] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T12:22:25.195Z] [runtime-status] [836] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [836] Running api in mode HTTPS"}}
[debug] [2020-10-04T12:22:25.199Z] [runtime-status] [836] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\836 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [836] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\836"}}
[debug] [2020-10-04T12:22:25.203Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T12:22:25.213Z] [runtime-status] [836] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [836] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  29997.000000000004 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  29997.000000000004","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  29997.000000000004"}}
[debug] [2020-10-04T12:22:25.219Z] [runtime-status] [836] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [836] Ephemeral server survived."}}
[info] >  (node:836) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:836) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:836) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:836) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:836) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:836) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:836) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:836) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:836) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-10-04T12:22:57.049Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-10-04T12:22:57.049Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-10-04T12:22:57.049Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=47998 --> api
[debug] [2020-10-04T12:22:57.056Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T12:22:57.056Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-10-04T12:22:57.056Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T12:22:57.057Z] [worker-api-1a7b7ff1-ab0e-41be-b539-1956f80e4c9d]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\11504 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1a7b7ff1-ab0e-41be-b539-1956f80e4c9d]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\11504"}}
[debug] [2020-10-04T12:22:57.057Z] [worker-api-1a7b7ff1-ab0e-41be-b539-1956f80e4c9d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1a7b7ff1-ab0e-41be-b539-1956f80e4c9d]: BUSY"}}
[debug] [2020-10-04T12:22:57.750Z] [runtime-status] [11504] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11504] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T12:22:57.752Z] [runtime-status] [11504] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11504] Disabled runtime features: undefined"}}
[debug] [2020-10-04T12:22:57.756Z] [runtime-status] [11504] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11504] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:22:57.758Z] [runtime-status] [11504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:22:57.759Z] [runtime-status] [11504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:22:57.764Z] [runtime-status] [11504] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11504] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T12:22:57.768Z] [runtime-status] [11504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:22:57.826Z] [runtime-status] [11504] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11504] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T12:22:57.827Z] [runtime-status] [11504] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11504] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:22:57.828Z] [runtime-status] [11504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:22:57.830Z] [runtime-status] [11504] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11504] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:22:57.831Z] [runtime-status] [11504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:22:57.831Z] [runtime-status] [11504] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11504] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:22:58.047Z] [runtime-status] [11504] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11504] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T12:22:58.049Z] [runtime-status] [11504] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11504] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T12:22:58.049Z] [runtime-status] [11504] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11504] Running api in mode HTTPS"}}
[debug] [2020-10-04T12:22:58.052Z] [runtime-status] [11504] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\11504 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11504] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\11504"}}
[debug] [2020-10-04T12:22:58.056Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T12:22:58.066Z] [runtime-status] [11504] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11504] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  47998 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  47998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  47998"}}
[debug] [2020-10-04T12:22:58.072Z] [runtime-status] [11504] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11504] Ephemeral server survived."}}
[info] >  (node:11504) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:11504) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11504) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:11504) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:11504) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11504) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:11504) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:11504) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11504) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)\r"}}
[debug] [2020-10-04T12:23:25.210Z] [worker-api-97885fb1-7819-4b2f-8147-2a5fb63532dd]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-97885fb1-7819-4b2f-8147-2a5fb63532dd]: exited"}}
[debug] [2020-10-04T12:23:25.210Z] [worker-api-97885fb1-7819-4b2f-8147-2a5fb63532dd]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-97885fb1-7819-4b2f-8147-2a5fb63532dd]: FINISHED"}}
[debug] [2020-10-04T12:23:25.210Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)\r"}}
[debug] [2020-10-04T12:23:58.060Z] [worker-api-1a7b7ff1-ab0e-41be-b539-1956f80e4c9d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1a7b7ff1-ab0e-41be-b539-1956f80e4c9d]: exited"}}
[debug] [2020-10-04T12:23:58.061Z] [worker-api-1a7b7ff1-ab0e-41be-b539-1956f80e4c9d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1a7b7ff1-ab0e-41be-b539-1956f80e4c9d]: FINISHED"}}
[debug] [2020-10-04T12:23:58.061Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-10-04T12:24:26.208Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-10-04T12:24:26.208Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-10-04T12:24:26.209Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=23999 --> api
[debug] [2020-10-04T12:24:26.209Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2020-10-04T12:24:26.212Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T12:24:26.212Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-10-04T12:24:26.213Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T12:24:26.213Z] [worker-api-04dd4175-a3ae-4ae6-b94c-ca1a282caa31]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\22612 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04dd4175-a3ae-4ae6-b94c-ca1a282caa31]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\22612"}}
[debug] [2020-10-04T12:24:26.213Z] [worker-api-04dd4175-a3ae-4ae6-b94c-ca1a282caa31]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04dd4175-a3ae-4ae6-b94c-ca1a282caa31]: BUSY"}}
[debug] [2020-10-04T12:24:26.774Z] [runtime-status] [22612] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22612] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T12:24:26.776Z] [runtime-status] [22612] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22612] Disabled runtime features: undefined"}}
[debug] [2020-10-04T12:24:26.782Z] [runtime-status] [22612] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22612] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:24:26.784Z] [runtime-status] [22612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:24:26.786Z] [runtime-status] [22612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:24:26.790Z] [runtime-status] [22612] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22612] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T12:24:26.791Z] [runtime-status] [22612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:24:26.847Z] [runtime-status] [22612] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22612] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T12:24:26.847Z] [runtime-status] [22612] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22612] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:24:26.848Z] [runtime-status] [22612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:24:26.850Z] [runtime-status] [22612] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22612] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:24:26.850Z] [runtime-status] [22612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:24:26.850Z] [runtime-status] [22612] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22612] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:24:27.032Z] [runtime-status] [22612] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22612] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T12:24:27.033Z] [runtime-status] [22612] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22612] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T12:24:27.033Z] [runtime-status] [22612] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22612] Running api in mode HTTPS"}}
[debug] [2020-10-04T12:24:27.039Z] [runtime-status] [22612] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\22612 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22612] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\22612"}}
[debug] [2020-10-04T12:24:27.045Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T12:24:27.058Z] [runtime-status] [22612] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22612] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  23999 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  23999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  23999"}}
[debug] [2020-10-04T12:24:27.066Z] [runtime-status] [22612] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22612] Ephemeral server survived."}}
[info] >  (node:22612) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:22612) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:22612) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:22612) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:22612) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:22612) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:22612) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:22612) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:22612) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[debug] [2020-10-04T12:25:27.050Z] [worker-api-04dd4175-a3ae-4ae6-b94c-ca1a282caa31]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04dd4175-a3ae-4ae6-b94c-ca1a282caa31]: exited"}}
[debug] [2020-10-04T12:25:27.050Z] [worker-api-04dd4175-a3ae-4ae6-b94c-ca1a282caa31]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04dd4175-a3ae-4ae6-b94c-ca1a282caa31]: FINISHED"}}
[debug] [2020-10-04T12:25:27.050Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-10-04T12:25:51.730Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-10-04T12:25:51.731Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-10-04T12:25:51.731Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=47998 --> api
[debug] [2020-10-04T12:25:51.731Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-10-04T12:25:51.735Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T12:25:51.735Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-10-04T12:25:51.735Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T12:25:51.735Z] [worker-api-27c5b799-cf53-49ce-9f2e-c316f345661c]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\11020 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-27c5b799-cf53-49ce-9f2e-c316f345661c]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\11020"}}
[debug] [2020-10-04T12:25:51.736Z] [worker-api-27c5b799-cf53-49ce-9f2e-c316f345661c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-27c5b799-cf53-49ce-9f2e-c316f345661c]: BUSY"}}
[debug] [2020-10-04T12:25:52.415Z] [runtime-status] [11020] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T12:25:52.417Z] [runtime-status] [11020] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Disabled runtime features: undefined"}}
[debug] [2020-10-04T12:25:52.421Z] [runtime-status] [11020] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:25:52.423Z] [runtime-status] [11020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:25:52.424Z] [runtime-status] [11020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:25:52.428Z] [runtime-status] [11020] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T12:25:52.429Z] [runtime-status] [11020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:25:52.488Z] [runtime-status] [11020] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T12:25:52.488Z] [runtime-status] [11020] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:25:52.489Z] [runtime-status] [11020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:25:52.490Z] [runtime-status] [11020] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:25:52.490Z] [runtime-status] [11020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:25:52.490Z] [runtime-status] [11020] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:25:52.659Z] [runtime-status] [11020] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T12:25:52.661Z] [runtime-status] [11020] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T12:25:52.661Z] [runtime-status] [11020] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Running api in mode HTTPS"}}
[debug] [2020-10-04T12:25:52.666Z] [runtime-status] [11020] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\11020 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\11020"}}
[debug] [2020-10-04T12:25:52.670Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T12:25:52.679Z] [runtime-status] [11020] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  47998 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  47998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  47998"}}
[debug] [2020-10-04T12:25:52.685Z] [runtime-status] [11020] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11020] Ephemeral server survived."}}
[info] >  (node:11020) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:11020) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11020) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:11020) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:11020) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11020) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:11020) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:11020) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11020) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-10-04T12:26:20.865Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-10-04T12:26:20.865Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-10-04T12:26:20.866Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=95996 --> api
[debug] [2020-10-04T12:26:20.871Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T12:26:20.871Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-10-04T12:26:20.871Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T12:26:20.871Z] [worker-api-d254717d-8e5f-4bc5-81c9-8b28712d92b2]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\2564 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d254717d-8e5f-4bc5-81c9-8b28712d92b2]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\2564"}}
[debug] [2020-10-04T12:26:20.871Z] [worker-api-d254717d-8e5f-4bc5-81c9-8b28712d92b2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d254717d-8e5f-4bc5-81c9-8b28712d92b2]: BUSY"}}
[debug] [2020-10-04T12:26:21.620Z] [runtime-status] [2564] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2564] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T12:26:21.622Z] [runtime-status] [2564] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2564] Disabled runtime features: undefined"}}
[debug] [2020-10-04T12:26:21.631Z] [runtime-status] [2564] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2564] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:26:21.633Z] [runtime-status] [2564] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2564] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:26:21.634Z] [runtime-status] [2564] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2564] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:26:21.638Z] [runtime-status] [2564] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2564] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T12:26:21.638Z] [runtime-status] [2564] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2564] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:26:21.691Z] [runtime-status] [2564] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2564] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T12:26:21.692Z] [runtime-status] [2564] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2564] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:26:21.692Z] [runtime-status] [2564] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2564] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:26:21.694Z] [runtime-status] [2564] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2564] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:26:21.695Z] [runtime-status] [2564] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2564] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:26:21.695Z] [runtime-status] [2564] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2564] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:26:21.874Z] [runtime-status] [2564] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2564] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T12:26:21.876Z] [runtime-status] [2564] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2564] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T12:26:21.876Z] [runtime-status] [2564] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2564] Running api in mode HTTPS"}}
[debug] [2020-10-04T12:26:21.881Z] [runtime-status] [2564] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\2564 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2564] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\2564"}}
[debug] [2020-10-04T12:26:21.884Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T12:26:21.892Z] [runtime-status] [2564] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2564] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  95996 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  95996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  95996"}}
[debug] [2020-10-04T12:26:21.900Z] [runtime-status] [2564] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2564] Ephemeral server survived."}}
[info] >  (node:2564) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:2564) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2564) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:2564) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:2564) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2564) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:2564) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2564) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2564) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)\r"}}
[debug] [2020-10-04T12:26:52.674Z] [worker-api-27c5b799-cf53-49ce-9f2e-c316f345661c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-27c5b799-cf53-49ce-9f2e-c316f345661c]: exited"}}
[debug] [2020-10-04T12:26:52.675Z] [worker-api-27c5b799-cf53-49ce-9f2e-c316f345661c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-27c5b799-cf53-49ce-9f2e-c316f345661c]: FINISHED"}}
[debug] [2020-10-04T12:26:52.675Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)\r"}}
[debug] [2020-10-04T12:27:21.927Z] [worker-api-d254717d-8e5f-4bc5-81c9-8b28712d92b2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d254717d-8e5f-4bc5-81c9-8b28712d92b2]: exited"}}
[debug] [2020-10-04T12:27:21.927Z] [worker-api-d254717d-8e5f-4bc5-81c9-8b28712d92b2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d254717d-8e5f-4bc5-81c9-8b28712d92b2]: FINISHED"}}
[debug] [2020-10-04T12:27:21.927Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-10-04T12:30:17.175Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-10-04T12:30:17.175Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-10-04T12:30:17.176Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=0 --> api
[debug] [2020-10-04T12:30:17.176Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2020-10-04T12:30:17.180Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T12:30:17.180Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-10-04T12:30:17.181Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T12:30:17.181Z] [worker-api-9f34c5c0-d28c-4171-83c7-556cdc12dffa]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\13992 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9f34c5c0-d28c-4171-83c7-556cdc12dffa]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\13992"}}
[debug] [2020-10-04T12:30:17.181Z] [worker-api-9f34c5c0-d28c-4171-83c7-556cdc12dffa]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9f34c5c0-d28c-4171-83c7-556cdc12dffa]: BUSY"}}
[debug] [2020-10-04T12:30:17.990Z] [runtime-status] [13992] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13992] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T12:30:17.992Z] [runtime-status] [13992] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13992] Disabled runtime features: undefined"}}
[debug] [2020-10-04T12:30:17.996Z] [runtime-status] [13992] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13992] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:30:18.000Z] [runtime-status] [13992] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13992] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:30:18.001Z] [runtime-status] [13992] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13992] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:30:18.008Z] [runtime-status] [13992] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13992] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T12:30:18.009Z] [runtime-status] [13992] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13992] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:30:18.081Z] [runtime-status] [13992] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13992] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T12:30:18.082Z] [runtime-status] [13992] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13992] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:30:18.083Z] [runtime-status] [13992] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13992] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:30:18.084Z] [runtime-status] [13992] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13992] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:30:18.085Z] [runtime-status] [13992] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13992] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:30:18.085Z] [runtime-status] [13992] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13992] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:30:18.336Z] [runtime-status] [13992] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13992] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T12:30:18.338Z] [runtime-status] [13992] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13992] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T12:30:18.338Z] [runtime-status] [13992] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13992] Running api in mode HTTPS"}}
[debug] [2020-10-04T12:30:18.343Z] [runtime-status] [13992] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\13992 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13992] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\13992"}}
[debug] [2020-10-04T12:30:18.348Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T12:30:18.362Z] [runtime-status] [13992] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13992] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0"}}
[debug] [2020-10-04T12:30:18.372Z] [runtime-status] [13992] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13992] Ephemeral server survived."}}
[info] >  (node:13992) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:13992) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13992) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:13992) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:13992) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13992) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:13992) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:13992) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13992) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-10-04T12:30:26.882Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-10-04T12:30:26.882Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-10-04T12:30:26.882Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=0 --> api
[debug] [2020-10-04T12:30:26.953Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T12:30:26.953Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-10-04T12:30:26.953Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T12:30:26.954Z] [worker-api-bec27128-0801-4868-a19b-760176e9f922]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\2320 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bec27128-0801-4868-a19b-760176e9f922]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\2320"}}
[debug] [2020-10-04T12:30:26.954Z] [worker-api-bec27128-0801-4868-a19b-760176e9f922]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bec27128-0801-4868-a19b-760176e9f922]: BUSY"}}
[debug] [2020-10-04T12:30:27.847Z] [runtime-status] [2320] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2320] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T12:30:27.852Z] [runtime-status] [2320] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2320] Disabled runtime features: undefined"}}
[debug] [2020-10-04T12:30:27.859Z] [runtime-status] [2320] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2320] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:30:27.862Z] [runtime-status] [2320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:30:27.869Z] [runtime-status] [2320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:30:27.876Z] [runtime-status] [2320] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2320] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T12:30:27.877Z] [runtime-status] [2320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:30:27.961Z] [runtime-status] [2320] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2320] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T12:30:27.961Z] [runtime-status] [2320] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2320] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:30:27.962Z] [runtime-status] [2320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:30:27.966Z] [runtime-status] [2320] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2320] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:30:27.967Z] [runtime-status] [2320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:30:27.967Z] [runtime-status] [2320] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2320] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:30:28.241Z] [runtime-status] [2320] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2320] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T12:30:28.243Z] [runtime-status] [2320] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2320] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T12:30:28.243Z] [runtime-status] [2320] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2320] Running api in mode HTTPS"}}
[debug] [2020-10-04T12:30:28.250Z] [runtime-status] [2320] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\2320 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2320] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\2320"}}
[debug] [2020-10-04T12:30:28.257Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T12:30:28.272Z] [runtime-status] [2320] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2320] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0"}}
[debug] [2020-10-04T12:30:28.279Z] [runtime-status] [2320] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2320] Ephemeral server survived."}}
[info] >  (node:2320) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:2320) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2320) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:2320) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:2320) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2320) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:2320) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2320) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2320) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-10-04T12:30:37.646Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2020-10-04T12:30:37.647Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2020-10-04T12:30:37.647Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=2999 --> api
[debug] [2020-10-04T12:30:37.651Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T12:30:37.651Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2020-10-04T12:30:37.651Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T12:30:37.651Z] [worker-api-fdc8d58d-98b2-470f-8b8d-6f2640058b82]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\21820 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fdc8d58d-98b2-470f-8b8d-6f2640058b82]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\21820"}}
[debug] [2020-10-04T12:30:37.651Z] [worker-api-fdc8d58d-98b2-470f-8b8d-6f2640058b82]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fdc8d58d-98b2-470f-8b8d-6f2640058b82]: BUSY"}}
[debug] [2020-10-04T12:30:38.302Z] [runtime-status] [21820] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21820] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T12:30:38.305Z] [runtime-status] [21820] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21820] Disabled runtime features: undefined"}}
[debug] [2020-10-04T12:30:38.309Z] [runtime-status] [21820] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21820] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:30:38.311Z] [runtime-status] [21820] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21820] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:30:38.313Z] [runtime-status] [21820] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21820] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:30:38.322Z] [runtime-status] [21820] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21820] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T12:30:38.323Z] [runtime-status] [21820] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21820] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:30:38.393Z] [runtime-status] [21820] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21820] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T12:30:38.393Z] [runtime-status] [21820] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21820] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:30:38.394Z] [runtime-status] [21820] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21820] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:30:38.396Z] [runtime-status] [21820] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21820] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:30:38.397Z] [runtime-status] [21820] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21820] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:30:38.397Z] [runtime-status] [21820] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21820] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:30:38.600Z] [runtime-status] [21820] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21820] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T12:30:38.601Z] [runtime-status] [21820] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21820] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T12:30:38.602Z] [runtime-status] [21820] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21820] Running api in mode HTTPS"}}
[debug] [2020-10-04T12:30:38.607Z] [runtime-status] [21820] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\21820 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21820] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\21820"}}
[debug] [2020-10-04T12:30:38.611Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T12:30:38.622Z] [runtime-status] [21820] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21820] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  2999 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  2999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  2999"}}
[debug] [2020-10-04T12:30:38.627Z] [runtime-status] [21820] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21820] Ephemeral server survived."}}
[info] >  (node:21820) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:21820) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:21820) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:21820) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:21820) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:21820) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:21820) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:21820) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:21820) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)\r"}}
[debug] [2020-10-04T12:31:18.355Z] [worker-api-9f34c5c0-d28c-4171-83c7-556cdc12dffa]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9f34c5c0-d28c-4171-83c7-556cdc12dffa]: exited"}}
[debug] [2020-10-04T12:31:18.355Z] [worker-api-9f34c5c0-d28c-4171-83c7-556cdc12dffa]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9f34c5c0-d28c-4171-83c7-556cdc12dffa]: FINISHED"}}
[debug] [2020-10-04T12:31:18.355Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)\r"}}
[debug] [2020-10-04T12:31:28.256Z] [worker-api-bec27128-0801-4868-a19b-760176e9f922]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bec27128-0801-4868-a19b-760176e9f922]: exited"}}
[debug] [2020-10-04T12:31:28.256Z] [worker-api-bec27128-0801-4868-a19b-760176e9f922]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bec27128-0801-4868-a19b-760176e9f922]: FINISHED"}}
[debug] [2020-10-04T12:31:28.256Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)\r"}}
[debug] [2020-10-04T12:31:38.616Z] [worker-api-fdc8d58d-98b2-470f-8b8d-6f2640058b82]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fdc8d58d-98b2-470f-8b8d-6f2640058b82]: exited"}}
[debug] [2020-10-04T12:31:38.616Z] [worker-api-fdc8d58d-98b2-470f-8b8d-6f2640058b82]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fdc8d58d-98b2-470f-8b8d-6f2640058b82]: FINISHED"}}
[debug] [2020-10-04T12:31:38.616Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-10-04T12:35:16.088Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-10-04T12:35:16.088Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-10-04T12:35:16.088Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=0 --> api
[debug] [2020-10-04T12:35:16.088Z] [worker-pool] Cleaned up workers for api: 3 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 0"}}
[debug] [2020-10-04T12:35:16.093Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T12:35:16.094Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-10-04T12:35:16.094Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T12:35:16.094Z] [worker-api-81e1acfe-21a4-4f64-a350-49ccf2eebf77]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\20476 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-81e1acfe-21a4-4f64-a350-49ccf2eebf77]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\20476"}}
[debug] [2020-10-04T12:35:16.094Z] [worker-api-81e1acfe-21a4-4f64-a350-49ccf2eebf77]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-81e1acfe-21a4-4f64-a350-49ccf2eebf77]: BUSY"}}
[debug] [2020-10-04T12:35:16.839Z] [runtime-status] [20476] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20476] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T12:35:16.841Z] [runtime-status] [20476] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20476] Disabled runtime features: undefined"}}
[debug] [2020-10-04T12:35:16.845Z] [runtime-status] [20476] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20476] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:35:16.847Z] [runtime-status] [20476] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20476] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:35:16.849Z] [runtime-status] [20476] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20476] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:35:16.853Z] [runtime-status] [20476] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20476] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T12:35:16.856Z] [runtime-status] [20476] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20476] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:35:16.905Z] [runtime-status] [20476] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20476] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T12:35:16.905Z] [runtime-status] [20476] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20476] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:35:16.906Z] [runtime-status] [20476] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20476] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:35:16.907Z] [runtime-status] [20476] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20476] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:35:16.907Z] [runtime-status] [20476] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20476] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:35:16.908Z] [runtime-status] [20476] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20476] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:35:17.150Z] [runtime-status] [20476] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20476] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T12:35:17.151Z] [runtime-status] [20476] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20476] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T12:35:17.151Z] [runtime-status] [20476] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20476] Running api in mode HTTPS"}}
[debug] [2020-10-04T12:35:17.155Z] [runtime-status] [20476] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\20476 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20476] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\20476"}}
[debug] [2020-10-04T12:35:17.158Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T12:35:17.169Z] [runtime-status] [20476] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20476] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0"}}
[debug] [2020-10-04T12:35:17.178Z] [runtime-status] [20476] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [20476] Ephemeral server survived."}}
[info] >  (node:20476) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:20476) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:20476) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:20476) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:20476) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:20476) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:20476) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:20476) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:20476) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)\r"}}
[debug] [2020-10-04T12:36:17.165Z] [worker-api-81e1acfe-21a4-4f64-a350-49ccf2eebf77]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-81e1acfe-21a4-4f64-a350-49ccf2eebf77]: exited"}}
[debug] [2020-10-04T12:36:17.165Z] [worker-api-81e1acfe-21a4-4f64-a350-49ccf2eebf77]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-81e1acfe-21a4-4f64-a350-49ccf2eebf77]: FINISHED"}}
[debug] [2020-10-04T12:36:17.165Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-10-04T12:42:09.161Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-10-04T12:42:09.161Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-10-04T12:42:09.161Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=0 --> api
[debug] [2020-10-04T12:42:09.162Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-10-04T12:42:09.165Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T12:42:09.165Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-10-04T12:42:09.165Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T12:42:09.165Z] [worker-api-21ea1c0b-66be-4b13-a4a8-e06e961e4837]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\12368 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-21ea1c0b-66be-4b13-a4a8-e06e961e4837]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\12368"}}
[debug] [2020-10-04T12:42:09.165Z] [worker-api-21ea1c0b-66be-4b13-a4a8-e06e961e4837]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-21ea1c0b-66be-4b13-a4a8-e06e961e4837]: BUSY"}}
[debug] [2020-10-04T12:42:10.005Z] [runtime-status] [12368] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12368] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T12:42:10.008Z] [runtime-status] [12368] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12368] Disabled runtime features: undefined"}}
[debug] [2020-10-04T12:42:10.024Z] [runtime-status] [12368] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12368] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:42:10.030Z] [runtime-status] [12368] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12368] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:42:10.037Z] [runtime-status] [12368] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12368] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:42:10.045Z] [runtime-status] [12368] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12368] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T12:42:10.046Z] [runtime-status] [12368] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12368] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:42:10.144Z] [runtime-status] [12368] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12368] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T12:42:10.144Z] [runtime-status] [12368] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12368] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:42:10.145Z] [runtime-status] [12368] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12368] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:42:10.147Z] [runtime-status] [12368] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12368] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:42:10.147Z] [runtime-status] [12368] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12368] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:42:10.147Z] [runtime-status] [12368] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12368] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:42:10.401Z] [runtime-status] [12368] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12368] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T12:42:10.403Z] [runtime-status] [12368] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12368] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T12:42:10.403Z] [runtime-status] [12368] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12368] Running api in mode HTTPS"}}
[debug] [2020-10-04T12:42:10.409Z] [runtime-status] [12368] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\12368 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12368] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\12368"}}
[debug] [2020-10-04T12:42:10.412Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T12:42:10.425Z] [runtime-status] [12368] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12368] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0"}}
[debug] [2020-10-04T12:42:10.432Z] [runtime-status] [12368] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12368] Ephemeral server survived."}}
[info] >  (node:12368) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:12368) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:12368) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:12368) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:12368) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:12368) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:12368) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:12368) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:12368) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-10-04T12:42:22.966Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-10-04T12:42:22.967Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-10-04T12:42:22.967Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=8997 --> api
[debug] [2020-10-04T12:42:22.972Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T12:42:22.972Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-10-04T12:42:22.973Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T12:42:22.973Z] [worker-api-b3b9041c-0f82-4533-9147-9be74fe063af]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\14848 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b3b9041c-0f82-4533-9147-9be74fe063af]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\14848"}}
[debug] [2020-10-04T12:42:22.973Z] [worker-api-b3b9041c-0f82-4533-9147-9be74fe063af]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b3b9041c-0f82-4533-9147-9be74fe063af]: BUSY"}}
[debug] [2020-10-04T12:42:23.599Z] [runtime-status] [14848] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14848] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T12:42:23.601Z] [runtime-status] [14848] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14848] Disabled runtime features: undefined"}}
[debug] [2020-10-04T12:42:23.606Z] [runtime-status] [14848] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14848] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:42:23.609Z] [runtime-status] [14848] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14848] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:42:23.611Z] [runtime-status] [14848] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14848] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:42:23.618Z] [runtime-status] [14848] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14848] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T12:42:23.619Z] [runtime-status] [14848] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14848] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:42:23.677Z] [runtime-status] [14848] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14848] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T12:42:23.677Z] [runtime-status] [14848] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14848] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:42:23.678Z] [runtime-status] [14848] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14848] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:42:23.679Z] [runtime-status] [14848] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14848] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:42:23.680Z] [runtime-status] [14848] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14848] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:42:23.680Z] [runtime-status] [14848] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14848] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:42:23.897Z] [runtime-status] [14848] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14848] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T12:42:23.898Z] [runtime-status] [14848] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14848] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T12:42:23.899Z] [runtime-status] [14848] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14848] Running api in mode HTTPS"}}
[debug] [2020-10-04T12:42:23.903Z] [runtime-status] [14848] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\14848 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14848] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\14848"}}
[debug] [2020-10-04T12:42:23.907Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T12:42:23.922Z] [runtime-status] [14848] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14848] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  8997 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  8997","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  8997"}}
[debug] [2020-10-04T12:42:23.930Z] [runtime-status] [14848] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14848] Ephemeral server survived."}}
[info] >  (node:14848) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:14848) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14848) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:14848) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:14848) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14848) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:14848) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:14848) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14848) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)\r"}}
[debug] [2020-10-04T12:43:10.443Z] [worker-api-21ea1c0b-66be-4b13-a4a8-e06e961e4837]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-21ea1c0b-66be-4b13-a4a8-e06e961e4837]: exited"}}
[debug] [2020-10-04T12:43:10.443Z] [worker-api-21ea1c0b-66be-4b13-a4a8-e06e961e4837]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-21ea1c0b-66be-4b13-a4a8-e06e961e4837]: FINISHED"}}
[debug] [2020-10-04T12:43:10.443Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-10-04T12:43:13.590Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-10-04T12:43:13.591Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-10-04T12:43:13.591Z] Accepted request GET /clone-98d35/us-central1/api/payments/create?total=0 --> api
[debug] [2020-10-04T12:43:13.591Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2020-10-04T12:43:13.595Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T12:43:13.595Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-10-04T12:43:13.595Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T12:43:13.595Z] [worker-api-4dfed08a-497b-404a-8b5c-b1f370b4990f]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\18196 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4dfed08a-497b-404a-8b5c-b1f370b4990f]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\18196"}}
[debug] [2020-10-04T12:43:13.595Z] [worker-api-4dfed08a-497b-404a-8b5c-b1f370b4990f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4dfed08a-497b-404a-8b5c-b1f370b4990f]: BUSY"}}
[debug] [2020-10-04T12:43:14.238Z] [runtime-status] [18196] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18196] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T12:43:14.241Z] [runtime-status] [18196] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18196] Disabled runtime features: undefined"}}
[debug] [2020-10-04T12:43:14.245Z] [runtime-status] [18196] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18196] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:43:14.247Z] [runtime-status] [18196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:43:14.248Z] [runtime-status] [18196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:43:14.255Z] [runtime-status] [18196] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18196] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T12:43:14.255Z] [runtime-status] [18196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:43:14.310Z] [runtime-status] [18196] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18196] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T12:43:14.310Z] [runtime-status] [18196] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18196] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:43:14.311Z] [runtime-status] [18196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:43:14.312Z] [runtime-status] [18196] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18196] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:43:14.313Z] [runtime-status] [18196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:43:14.313Z] [runtime-status] [18196] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18196] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:43:14.484Z] [runtime-status] [18196] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18196] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T12:43:14.487Z] [runtime-status] [18196] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18196] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T12:43:14.488Z] [runtime-status] [18196] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18196] Running api in mode HTTPS"}}
[debug] [2020-10-04T12:43:14.493Z] [runtime-status] [18196] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\18196 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18196] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\18196"}}
[debug] [2020-10-04T12:43:14.498Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T12:43:14.509Z] [runtime-status] [18196] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18196] Ephemeral server handling GET request"}}
[debug] [2020-10-04T12:43:14.518Z] [runtime-status] [18196] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18196] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-10-04T12:43:14.525Z] [worker-api-4dfed08a-497b-404a-8b5c-b1f370b4990f]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4dfed08a-497b-404a-8b5c-b1f370b4990f]: IDLE"}}
[debug] [2020-10-04T12:43:14.525Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)\r"}}
[debug] [2020-10-04T12:43:23.926Z] [worker-api-b3b9041c-0f82-4533-9147-9be74fe063af]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b3b9041c-0f82-4533-9147-9be74fe063af]: exited"}}
[debug] [2020-10-04T12:43:23.926Z] [worker-api-b3b9041c-0f82-4533-9147-9be74fe063af]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b3b9041c-0f82-4533-9147-9be74fe063af]: FINISHED"}}
[debug] [2020-10-04T12:43:23.926Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-10-04T12:45:54.424Z] File C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js changed, reloading triggers"}}
[debug] [2020-10-04T12:45:55.425Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-10-04T12:45:55.425Z] [worker-~diagnostic~-34048dd1-ea70-4290-b93c-05030b530391]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-34048dd1-ea70-4290-b93c-05030b530391]: FINISHING"}}
[debug] [2020-10-04T12:45:55.425Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2020-10-04T12:45:55.425Z] [worker-api-4dfed08a-497b-404a-8b5c-b1f370b4990f]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4dfed08a-497b-404a-8b5c-b1f370b4990f]: FINISHING"}}
[debug] [2020-10-04T12:45:55.426Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2020-10-04T12:45:55.430Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-10-04T12:45:55.430Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-10-04T12:45:55.430Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-10-04T12:45:55.430Z] [worker-~diagnostic~-84fe1880-f291-415d-a509-692b438b44ee]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\21948 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-84fe1880-f291-415d-a509-692b438b44ee]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\21948"}}
[debug] [2020-10-04T12:45:55.430Z] [worker-~diagnostic~-84fe1880-f291-415d-a509-692b438b44ee]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-84fe1880-f291-415d-a509-692b438b44ee]: BUSY"}}
[debug] [2020-10-04T12:45:55.434Z] [worker-~diagnostic~-34048dd1-ea70-4290-b93c-05030b530391]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-34048dd1-ea70-4290-b93c-05030b530391]: exited"}}
[debug] [2020-10-04T12:45:55.434Z] [worker-~diagnostic~-34048dd1-ea70-4290-b93c-05030b530391]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-34048dd1-ea70-4290-b93c-05030b530391]: FINISHED"}}
[debug] [2020-10-04T12:45:55.435Z] [worker-api-4dfed08a-497b-404a-8b5c-b1f370b4990f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4dfed08a-497b-404a-8b5c-b1f370b4990f]: exited"}}
[debug] [2020-10-04T12:45:55.435Z] [worker-api-4dfed08a-497b-404a-8b5c-b1f370b4990f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4dfed08a-497b-404a-8b5c-b1f370b4990f]: FINISHED"}}
[debug] [2020-10-04T12:45:56.168Z] [runtime-status] [21948] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21948] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T12:45:56.171Z] [runtime-status] [21948] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21948] Disabled runtime features: undefined"}}
[debug] [2020-10-04T12:45:56.177Z] [runtime-status] [21948] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21948] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:45:56.179Z] [runtime-status] [21948] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21948] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:45:56.180Z] [runtime-status] [21948] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21948] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:45:56.186Z] [runtime-status] [21948] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21948] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T12:45:56.187Z] [runtime-status] [21948] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21948] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:45:56.245Z] [runtime-status] [21948] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21948] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T12:45:56.245Z] [runtime-status] [21948] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21948] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:45:56.246Z] [runtime-status] [21948] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21948] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:45:56.247Z] [runtime-status] [21948] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21948] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:45:56.248Z] [runtime-status] [21948] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21948] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:45:56.248Z] [runtime-status] [21948] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21948] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:45:56.424Z] [worker-~diagnostic~-84fe1880-f291-415d-a509-692b438b44ee]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-84fe1880-f291-415d-a509-692b438b44ee]: IDLE"}}
[debug] [2020-10-04T12:46:01.601Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-10-04T12:46:01.601Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-10-04T12:46:01.601Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=0 --> api
[debug] [2020-10-04T12:46:01.601Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-10-04T12:46:01.601Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-10-04T12:46:01.606Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T12:46:01.606Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-10-04T12:46:01.606Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T12:46:01.606Z] [worker-api-903fa9fc-9a6c-490c-8be7-64cb9d9cc492]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\17732 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-903fa9fc-9a6c-490c-8be7-64cb9d9cc492]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\17732"}}
[debug] [2020-10-04T12:46:01.606Z] [worker-api-903fa9fc-9a6c-490c-8be7-64cb9d9cc492]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-903fa9fc-9a6c-490c-8be7-64cb9d9cc492]: BUSY"}}
[debug] [2020-10-04T12:46:02.444Z] [runtime-status] [17732] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17732] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T12:46:02.446Z] [runtime-status] [17732] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17732] Disabled runtime features: undefined"}}
[debug] [2020-10-04T12:46:02.454Z] [runtime-status] [17732] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17732] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:46:02.457Z] [runtime-status] [17732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:46:02.460Z] [runtime-status] [17732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:46:02.468Z] [runtime-status] [17732] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17732] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T12:46:02.469Z] [runtime-status] [17732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:46:02.523Z] [runtime-status] [17732] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17732] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T12:46:02.523Z] [runtime-status] [17732] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17732] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:46:02.524Z] [runtime-status] [17732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:46:02.525Z] [runtime-status] [17732] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17732] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:46:02.525Z] [runtime-status] [17732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:46:02.525Z] [runtime-status] [17732] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17732] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:46:02.755Z] [runtime-status] [17732] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17732] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T12:46:02.756Z] [runtime-status] [17732] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17732] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T12:46:02.756Z] [runtime-status] [17732] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17732] Running api in mode HTTPS"}}
[debug] [2020-10-04T12:46:02.760Z] [runtime-status] [17732] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\17732 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17732] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\17732"}}
[debug] [2020-10-04T12:46:02.765Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T12:46:02.776Z] [runtime-status] [17732] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17732] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0"}}
[debug] [2020-10-04T12:46:02.783Z] [runtime-status] [17732] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17732] Ephemeral server survived."}}
[info] >  (node:17732) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:17732) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:17732) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:17732) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:17732) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:17732) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:17732) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:17732) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:17732) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-10-04T12:46:09.969Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-10-04T12:46:09.969Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-10-04T12:46:09.969Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=2999 --> api
[debug] [2020-10-04T12:46:09.977Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T12:46:09.977Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-10-04T12:46:09.977Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T12:46:09.977Z] [worker-api-5a3f2fba-98e0-412d-bbae-c2b18a7e5f50]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\19164 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5a3f2fba-98e0-412d-bbae-c2b18a7e5f50]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\19164"}}
[debug] [2020-10-04T12:46:09.977Z] [worker-api-5a3f2fba-98e0-412d-bbae-c2b18a7e5f50]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5a3f2fba-98e0-412d-bbae-c2b18a7e5f50]: BUSY"}}
[debug] [2020-10-04T12:46:10.637Z] [runtime-status] [19164] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19164] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T12:46:10.639Z] [runtime-status] [19164] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19164] Disabled runtime features: undefined"}}
[debug] [2020-10-04T12:46:10.644Z] [runtime-status] [19164] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19164] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:46:10.647Z] [runtime-status] [19164] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19164] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:46:10.648Z] [runtime-status] [19164] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19164] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:46:10.656Z] [runtime-status] [19164] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19164] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T12:46:10.657Z] [runtime-status] [19164] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19164] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:46:10.708Z] [runtime-status] [19164] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19164] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T12:46:10.708Z] [runtime-status] [19164] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19164] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:46:10.708Z] [runtime-status] [19164] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19164] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:46:10.710Z] [runtime-status] [19164] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19164] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:46:10.710Z] [runtime-status] [19164] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19164] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:46:10.710Z] [runtime-status] [19164] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19164] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:46:10.889Z] [runtime-status] [19164] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19164] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T12:46:10.891Z] [runtime-status] [19164] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19164] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T12:46:10.891Z] [runtime-status] [19164] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19164] Running api in mode HTTPS"}}
[debug] [2020-10-04T12:46:10.895Z] [runtime-status] [19164] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\19164 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19164] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\19164"}}
[debug] [2020-10-04T12:46:10.900Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T12:46:10.908Z] [runtime-status] [19164] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19164] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  2999 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  2999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  2999"}}
[debug] [2020-10-04T12:46:10.914Z] [runtime-status] [19164] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19164] Ephemeral server survived."}}
[info] >  (node:19164) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:19164) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:19164) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:19164) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:19164) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:19164) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:19164) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:19164) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:19164) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-10-04T12:46:21.914Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2020-10-04T12:46:21.914Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2020-10-04T12:46:21.914Z] Accepted request GET /clone-98d35/us-central1/api --> api
[debug] [2020-10-04T12:46:21.918Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T12:46:21.918Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2020-10-04T12:46:21.918Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T12:46:21.918Z] [worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\21100 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\21100"}}
[debug] [2020-10-04T12:46:21.919Z] [worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: BUSY"}}
[debug] [2020-10-04T12:46:22.475Z] [runtime-status] [21100] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T12:46:22.476Z] [runtime-status] [21100] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Disabled runtime features: undefined"}}
[debug] [2020-10-04T12:46:22.480Z] [runtime-status] [21100] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:46:22.483Z] [runtime-status] [21100] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:46:22.484Z] [runtime-status] [21100] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:46:22.488Z] [runtime-status] [21100] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T12:46:22.492Z] [runtime-status] [21100] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:46:22.543Z] [runtime-status] [21100] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T12:46:22.543Z] [runtime-status] [21100] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:46:22.544Z] [runtime-status] [21100] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:46:22.545Z] [runtime-status] [21100] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:46:22.545Z] [runtime-status] [21100] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T12:46:22.545Z] [runtime-status] [21100] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T12:46:22.716Z] [runtime-status] [21100] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T12:46:22.718Z] [runtime-status] [21100] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T12:46:22.718Z] [runtime-status] [21100] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Running api in mode HTTPS"}}
[debug] [2020-10-04T12:46:22.722Z] [runtime-status] [21100] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\21100 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\21100"}}
[debug] [2020-10-04T12:46:22.725Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T12:46:22.734Z] [runtime-status] [21100] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Ephemeral server handling GET request"}}
[debug] [2020-10-04T12:46:22.741Z] [runtime-status] [21100] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-10-04T12:46:22.747Z] [worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: IDLE"}}
[debug] [2020-10-04T12:46:22.747Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-10-04T12:46:39.957Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2020-10-04T12:46:39.957Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2020-10-04T12:46:39.957Z] Accepted request GET /clone-98d35/us-central1/api/payments/create --> api
[debug] [2020-10-04T12:46:39.957Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T12:46:39.957Z] [worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\21100 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\21100"}}
[debug] [2020-10-04T12:46:39.957Z] [worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: BUSY"}}
[debug] [2020-10-04T12:46:39.958Z] [runtime-status] [21100] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T12:46:39.960Z] [runtime-status] [21100] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T12:46:39.960Z] [runtime-status] [21100] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Running api in mode HTTPS"}}
[debug] [2020-10-04T12:46:39.961Z] [runtime-status] [21100] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\21100 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\21100"}}
[debug] [2020-10-04T12:46:39.962Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T12:46:39.965Z] [runtime-status] [21100] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Ephemeral server handling GET request"}}
[debug] [2020-10-04T12:46:39.970Z] [runtime-status] [21100] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-10-04T12:46:39.971Z] [worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: IDLE"}}
[debug] [2020-10-04T12:46:39.971Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[debug] [2020-10-04T12:47:02.772Z] [worker-api-903fa9fc-9a6c-490c-8be7-64cb9d9cc492]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-903fa9fc-9a6c-490c-8be7-64cb9d9cc492]: exited"}}
[debug] [2020-10-04T12:47:02.773Z] [worker-api-903fa9fc-9a6c-490c-8be7-64cb9d9cc492]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-903fa9fc-9a6c-490c-8be7-64cb9d9cc492]: FINISHED"}}
[debug] [2020-10-04T12:47:02.773Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)\r"}}
[debug] [2020-10-04T12:47:10.906Z] [worker-api-5a3f2fba-98e0-412d-bbae-c2b18a7e5f50]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5a3f2fba-98e0-412d-bbae-c2b18a7e5f50]: exited"}}
[debug] [2020-10-04T12:47:10.906Z] [worker-api-5a3f2fba-98e0-412d-bbae-c2b18a7e5f50]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5a3f2fba-98e0-412d-bbae-c2b18a7e5f50]: FINISHED"}}
[debug] [2020-10-04T12:47:10.906Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-10-04T12:49:46.829Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-10-04T12:49:46.829Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-10-04T12:49:46.829Z] Accepted request GET /clone-98d35/us-central1/api --> api
[debug] [2020-10-04T12:49:46.829Z] [worker-pool] Cleaned up workers for api: 3 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 1"}}
[debug] [2020-10-04T12:49:46.829Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T12:49:46.829Z] [worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\21100 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\21100"}}
[debug] [2020-10-04T12:49:46.829Z] [worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: BUSY"}}
[debug] [2020-10-04T12:49:46.830Z] [runtime-status] [21100] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T12:49:46.832Z] [runtime-status] [21100] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T12:49:46.832Z] [runtime-status] [21100] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Running api in mode HTTPS"}}
[debug] [2020-10-04T12:49:46.832Z] [runtime-status] [21100] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\21100 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\21100"}}
[debug] [2020-10-04T12:49:46.833Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T12:49:46.836Z] [runtime-status] [21100] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Ephemeral server handling GET request"}}
[debug] [2020-10-04T12:49:46.837Z] [runtime-status] [21100] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-10-04T12:49:46.838Z] [worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: IDLE"}}
[debug] [2020-10-04T12:49:46.839Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-10-04T16:05:03.434Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-10-04T16:05:03.437Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-10-04T16:05:03.437Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=0 --> api
[debug] [2020-10-04T16:05:03.438Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T16:05:03.439Z] [worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\21100 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\21100"}}
[debug] [2020-10-04T16:05:03.439Z] [worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: BUSY"}}
[debug] [2020-10-04T16:05:03.447Z] [runtime-status] [21100] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T16:05:03.450Z] [runtime-status] [21100] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T16:05:03.450Z] [runtime-status] [21100] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Running api in mode HTTPS"}}
[debug] [2020-10-04T16:05:03.453Z] [runtime-status] [21100] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\21100 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\21100"}}
[debug] [2020-10-04T16:05:03.460Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T16:05:03.476Z] [runtime-status] [21100] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0"}}
[debug] [2020-10-04T16:05:03.483Z] [runtime-status] [21100] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21100] Ephemeral server survived."}}
[info] >  (node:21100) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:21100) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:21100) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:21100) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:21100) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:21100) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:21100) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:21100) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:21100) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-10-04T16:05:20.193Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-10-04T16:05:20.194Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-10-04T16:05:20.194Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=83898 --> api
[debug] [2020-10-04T16:05:20.203Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T16:05:20.204Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-10-04T16:05:20.204Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T16:05:20.204Z] [worker-api-b9255062-d694-4ed5-b6e2-1cd3723ccc62]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\15452 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b9255062-d694-4ed5-b6e2-1cd3723ccc62]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\15452"}}
[debug] [2020-10-04T16:05:20.204Z] [worker-api-b9255062-d694-4ed5-b6e2-1cd3723ccc62]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b9255062-d694-4ed5-b6e2-1cd3723ccc62]: BUSY"}}
[debug] [2020-10-04T16:05:20.860Z] [runtime-status] [15452] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15452] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T16:05:20.862Z] [runtime-status] [15452] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15452] Disabled runtime features: undefined"}}
[debug] [2020-10-04T16:05:20.869Z] [runtime-status] [15452] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15452] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:05:20.871Z] [runtime-status] [15452] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15452] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:05:20.872Z] [runtime-status] [15452] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15452] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:05:20.877Z] [runtime-status] [15452] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15452] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T16:05:20.878Z] [runtime-status] [15452] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15452] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:05:20.936Z] [runtime-status] [15452] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15452] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T16:05:20.937Z] [runtime-status] [15452] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15452] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:05:20.937Z] [runtime-status] [15452] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15452] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:05:20.939Z] [runtime-status] [15452] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15452] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:05:20.941Z] [runtime-status] [15452] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15452] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:05:20.941Z] [runtime-status] [15452] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15452] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:05:21.159Z] [runtime-status] [15452] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15452] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T16:05:21.160Z] [runtime-status] [15452] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15452] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T16:05:21.161Z] [runtime-status] [15452] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15452] Running api in mode HTTPS"}}
[debug] [2020-10-04T16:05:21.166Z] [runtime-status] [15452] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\15452 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15452] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\15452"}}
[debug] [2020-10-04T16:05:21.172Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T16:05:21.183Z] [runtime-status] [15452] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15452] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  83898 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  83898","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  83898"}}
[debug] [2020-10-04T16:05:21.191Z] [runtime-status] [15452] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15452] Ephemeral server survived."}}
[info] >  (node:15452) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:15452) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15452) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:15452) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15452) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15452) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15452) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15452) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15452) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)\r"}}
[debug] [2020-10-04T16:06:03.513Z] [worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: exited"}}
[debug] [2020-10-04T16:06:03.514Z] [worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e70a814e-bf33-46b7-b77a-18adeee5481b]: FINISHED"}}
[debug] [2020-10-04T16:06:03.514Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)\r"}}
[debug] [2020-10-04T16:06:21.213Z] [worker-api-b9255062-d694-4ed5-b6e2-1cd3723ccc62]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b9255062-d694-4ed5-b6e2-1cd3723ccc62]: exited"}}
[debug] [2020-10-04T16:06:21.214Z] [worker-api-b9255062-d694-4ed5-b6e2-1cd3723ccc62]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b9255062-d694-4ed5-b6e2-1cd3723ccc62]: FINISHED"}}
[debug] [2020-10-04T16:06:21.214Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-10-04T16:09:10.244Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-10-04T16:09:10.244Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-10-04T16:09:10.244Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=0 --> api
[debug] [2020-10-04T16:09:10.244Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2020-10-04T16:09:10.248Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T16:09:10.248Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-10-04T16:09:10.248Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T16:09:10.249Z] [worker-api-7ea99d46-dc2d-4572-9cf5-3c6775dae287]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\19504 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7ea99d46-dc2d-4572-9cf5-3c6775dae287]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\19504"}}
[debug] [2020-10-04T16:09:10.249Z] [worker-api-7ea99d46-dc2d-4572-9cf5-3c6775dae287]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7ea99d46-dc2d-4572-9cf5-3c6775dae287]: BUSY"}}
[debug] [2020-10-04T16:09:11.047Z] [runtime-status] [19504] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19504] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T16:09:11.050Z] [runtime-status] [19504] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19504] Disabled runtime features: undefined"}}
[debug] [2020-10-04T16:09:11.058Z] [runtime-status] [19504] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19504] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:09:11.062Z] [runtime-status] [19504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:09:11.067Z] [runtime-status] [19504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:09:11.074Z] [runtime-status] [19504] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19504] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T16:09:11.075Z] [runtime-status] [19504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:09:11.152Z] [runtime-status] [19504] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19504] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T16:09:11.152Z] [runtime-status] [19504] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19504] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:09:11.154Z] [runtime-status] [19504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:09:11.157Z] [runtime-status] [19504] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19504] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:09:11.157Z] [runtime-status] [19504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:09:11.158Z] [runtime-status] [19504] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19504] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:09:11.406Z] [runtime-status] [19504] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19504] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T16:09:11.408Z] [runtime-status] [19504] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19504] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T16:09:11.408Z] [runtime-status] [19504] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19504] Running api in mode HTTPS"}}
[debug] [2020-10-04T16:09:11.414Z] [runtime-status] [19504] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\19504 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19504] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\19504"}}
[debug] [2020-10-04T16:09:11.418Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T16:09:11.436Z] [runtime-status] [19504] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19504] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0"}}
[debug] [2020-10-04T16:09:11.446Z] [runtime-status] [19504] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19504] Ephemeral server survived."}}
[info] >  (node:19504) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:19504) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:19504) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:19504) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:19504) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:19504) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:19504) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:19504) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:19504) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-10-04T16:09:17.582Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-10-04T16:09:17.582Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-10-04T16:09:17.582Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=2999 --> api
[debug] [2020-10-04T16:09:17.588Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T16:09:17.588Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-10-04T16:09:17.589Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T16:09:17.589Z] [worker-api-cf208535-4746-4405-be11-7dc23f3d9122]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\24556 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf208535-4746-4405-be11-7dc23f3d9122]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\24556"}}
[debug] [2020-10-04T16:09:17.589Z] [worker-api-cf208535-4746-4405-be11-7dc23f3d9122]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf208535-4746-4405-be11-7dc23f3d9122]: BUSY"}}
[debug] [2020-10-04T16:09:18.298Z] [runtime-status] [24556] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24556] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T16:09:18.299Z] [runtime-status] [24556] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24556] Disabled runtime features: undefined"}}
[debug] [2020-10-04T16:09:18.306Z] [runtime-status] [24556] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24556] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:09:18.308Z] [runtime-status] [24556] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24556] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:09:18.309Z] [runtime-status] [24556] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24556] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:09:18.313Z] [runtime-status] [24556] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24556] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T16:09:18.314Z] [runtime-status] [24556] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24556] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:09:18.370Z] [runtime-status] [24556] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24556] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T16:09:18.371Z] [runtime-status] [24556] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24556] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:09:18.371Z] [runtime-status] [24556] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24556] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:09:18.373Z] [runtime-status] [24556] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24556] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:09:18.373Z] [runtime-status] [24556] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24556] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:09:18.373Z] [runtime-status] [24556] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24556] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:09:18.551Z] [runtime-status] [24556] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24556] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T16:09:18.553Z] [runtime-status] [24556] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24556] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T16:09:18.553Z] [runtime-status] [24556] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24556] Running api in mode HTTPS"}}
[debug] [2020-10-04T16:09:18.558Z] [runtime-status] [24556] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\24556 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24556] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\24556"}}
[debug] [2020-10-04T16:09:18.563Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T16:09:18.575Z] [runtime-status] [24556] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24556] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  2999 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  2999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  2999"}}
[debug] [2020-10-04T16:09:18.581Z] [runtime-status] [24556] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24556] Ephemeral server survived."}}
[info] >  (node:24556) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:24556) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:24556) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:24556) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:24556) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:24556) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:24556) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:24556) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:24556) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-10-04T16:09:47.842Z] File C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js changed, reloading triggers"}}
[debug] [2020-10-04T16:09:48.843Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-10-04T16:09:48.843Z] [worker-~diagnostic~-84fe1880-f291-415d-a509-692b438b44ee]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-84fe1880-f291-415d-a509-692b438b44ee]: FINISHING"}}
[debug] [2020-10-04T16:09:48.844Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2020-10-04T16:09:48.844Z] [worker-api-7ea99d46-dc2d-4572-9cf5-3c6775dae287]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7ea99d46-dc2d-4572-9cf5-3c6775dae287]: FINISHING"}}
[debug] [2020-10-04T16:09:48.844Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2020-10-04T16:09:48.844Z] [worker-api-cf208535-4746-4405-be11-7dc23f3d9122]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf208535-4746-4405-be11-7dc23f3d9122]: FINISHING"}}
[debug] [2020-10-04T16:09:48.847Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-10-04T16:09:48.847Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-10-04T16:09:48.848Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-10-04T16:09:48.848Z] [worker-~diagnostic~-3ea5971a-57bd-4cbb-a705-0668034a3ab5]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\23592 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3ea5971a-57bd-4cbb-a705-0668034a3ab5]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\23592"}}
[debug] [2020-10-04T16:09:48.848Z] [worker-~diagnostic~-3ea5971a-57bd-4cbb-a705-0668034a3ab5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3ea5971a-57bd-4cbb-a705-0668034a3ab5]: BUSY"}}
[debug] [2020-10-04T16:09:48.849Z] [worker-~diagnostic~-84fe1880-f291-415d-a509-692b438b44ee]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-84fe1880-f291-415d-a509-692b438b44ee]: exited"}}
[debug] [2020-10-04T16:09:48.849Z] [worker-~diagnostic~-84fe1880-f291-415d-a509-692b438b44ee]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-84fe1880-f291-415d-a509-692b438b44ee]: FINISHED"}}
[debug] [2020-10-04T16:09:49.522Z] [runtime-status] [23592] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23592] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T16:09:49.524Z] [runtime-status] [23592] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23592] Disabled runtime features: undefined"}}
[debug] [2020-10-04T16:09:49.529Z] [runtime-status] [23592] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23592] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:09:49.531Z] [runtime-status] [23592] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23592] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:09:49.532Z] [runtime-status] [23592] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23592] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:09:49.539Z] [runtime-status] [23592] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23592] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T16:09:49.542Z] [runtime-status] [23592] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23592] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:09:49.615Z] [runtime-status] [23592] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23592] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T16:09:49.617Z] [runtime-status] [23592] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23592] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:09:49.617Z] [runtime-status] [23592] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23592] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:09:49.618Z] [runtime-status] [23592] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23592] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:09:49.618Z] [runtime-status] [23592] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23592] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:09:49.618Z] [runtime-status] [23592] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23592] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:09:49.821Z] [worker-~diagnostic~-3ea5971a-57bd-4cbb-a705-0668034a3ab5]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3ea5971a-57bd-4cbb-a705-0668034a3ab5]: IDLE"}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)\r"}}
[debug] [2020-10-04T16:10:11.421Z] [worker-api-7ea99d46-dc2d-4572-9cf5-3c6775dae287]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7ea99d46-dc2d-4572-9cf5-3c6775dae287]: exited"}}
[debug] [2020-10-04T16:10:11.421Z] [worker-api-7ea99d46-dc2d-4572-9cf5-3c6775dae287]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7ea99d46-dc2d-4572-9cf5-3c6775dae287]: FINISHED"}}
[debug] [2020-10-04T16:10:11.421Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)\r"}}
[debug] [2020-10-04T16:10:18.567Z] [worker-api-cf208535-4746-4405-be11-7dc23f3d9122]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf208535-4746-4405-be11-7dc23f3d9122]: exited"}}
[debug] [2020-10-04T16:10:18.567Z] [worker-api-cf208535-4746-4405-be11-7dc23f3d9122]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf208535-4746-4405-be11-7dc23f3d9122]: FINISHED"}}
[debug] [2020-10-04T16:10:18.567Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-10-04T16:12:29.686Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-10-04T16:12:29.687Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-10-04T16:12:29.687Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=0 --> api
[debug] [2020-10-04T16:12:29.687Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-10-04T16:12:29.687Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2020-10-04T16:12:29.692Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T16:12:29.692Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-10-04T16:12:29.692Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T16:12:29.692Z] [worker-api-fd3e6b2d-8a6a-40fd-8e48-307a84fbeaba]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\1248 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fd3e6b2d-8a6a-40fd-8e48-307a84fbeaba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\1248"}}
[debug] [2020-10-04T16:12:29.692Z] [worker-api-fd3e6b2d-8a6a-40fd-8e48-307a84fbeaba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fd3e6b2d-8a6a-40fd-8e48-307a84fbeaba]: BUSY"}}
[debug] [2020-10-04T16:12:30.345Z] [runtime-status] [1248] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1248] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T16:12:30.347Z] [runtime-status] [1248] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1248] Disabled runtime features: undefined"}}
[debug] [2020-10-04T16:12:30.353Z] [runtime-status] [1248] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1248] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:12:30.355Z] [runtime-status] [1248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:12:30.356Z] [runtime-status] [1248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:12:30.360Z] [runtime-status] [1248] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1248] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T16:12:30.361Z] [runtime-status] [1248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:12:30.414Z] [runtime-status] [1248] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1248] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T16:12:30.414Z] [runtime-status] [1248] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1248] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:12:30.415Z] [runtime-status] [1248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:12:30.416Z] [runtime-status] [1248] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1248] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:12:30.417Z] [runtime-status] [1248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:12:30.417Z] [runtime-status] [1248] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1248] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:12:30.583Z] [runtime-status] [1248] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1248] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T16:12:30.585Z] [runtime-status] [1248] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1248] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T16:12:30.585Z] [runtime-status] [1248] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1248] Running api in mode HTTPS"}}
[debug] [2020-10-04T16:12:30.589Z] [runtime-status] [1248] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\1248 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1248] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\1248"}}
[debug] [2020-10-04T16:12:30.593Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T16:12:30.601Z] [runtime-status] [1248] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1248] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0"}}
[debug] [2020-10-04T16:12:30.609Z] [runtime-status] [1248] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1248] Ephemeral server survived."}}
[info] >  (node:1248) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:1248) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1248) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:1248) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:1248) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1248) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:1248) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:1248) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1248) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-10-04T16:12:36.580Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-10-04T16:12:36.580Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-10-04T16:12:36.580Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=2999 --> api
[debug] [2020-10-04T16:12:36.585Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T16:12:36.585Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-10-04T16:12:36.585Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T16:12:36.585Z] [worker-api-2d638fe5-a45d-4c07-aaa8-2f1d48f51151]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\23940 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2d638fe5-a45d-4c07-aaa8-2f1d48f51151]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\23940"}}
[debug] [2020-10-04T16:12:36.589Z] [worker-api-2d638fe5-a45d-4c07-aaa8-2f1d48f51151]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2d638fe5-a45d-4c07-aaa8-2f1d48f51151]: BUSY"}}
[debug] [2020-10-04T16:12:37.255Z] [runtime-status] [23940] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23940] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T16:12:37.257Z] [runtime-status] [23940] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23940] Disabled runtime features: undefined"}}
[debug] [2020-10-04T16:12:37.261Z] [runtime-status] [23940] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23940] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:12:37.263Z] [runtime-status] [23940] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23940] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:12:37.264Z] [runtime-status] [23940] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23940] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:12:37.268Z] [runtime-status] [23940] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23940] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T16:12:37.272Z] [runtime-status] [23940] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23940] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:12:37.326Z] [runtime-status] [23940] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23940] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T16:12:37.327Z] [runtime-status] [23940] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23940] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:12:37.327Z] [runtime-status] [23940] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23940] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:12:37.330Z] [runtime-status] [23940] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23940] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:12:37.331Z] [runtime-status] [23940] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23940] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:12:37.331Z] [runtime-status] [23940] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23940] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:12:37.498Z] [runtime-status] [23940] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23940] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T16:12:37.501Z] [runtime-status] [23940] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23940] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T16:12:37.501Z] [runtime-status] [23940] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23940] Running api in mode HTTPS"}}
[debug] [2020-10-04T16:12:37.505Z] [runtime-status] [23940] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\23940 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23940] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\23940"}}
[debug] [2020-10-04T16:12:37.509Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T16:12:37.517Z] [runtime-status] [23940] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23940] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  2999 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  2999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  2999"}}
[debug] [2020-10-04T16:12:37.524Z] [runtime-status] [23940] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23940] Ephemeral server survived."}}
[info] >  (node:23940) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:23940) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:23940) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:23940) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:23940) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:23940) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:23940) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:23940) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:23940) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[debug] [2020-10-04T16:13:30.600Z] [worker-api-fd3e6b2d-8a6a-40fd-8e48-307a84fbeaba]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fd3e6b2d-8a6a-40fd-8e48-307a84fbeaba]: exited"}}
[debug] [2020-10-04T16:13:30.601Z] [worker-api-fd3e6b2d-8a6a-40fd-8e48-307a84fbeaba]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fd3e6b2d-8a6a-40fd-8e48-307a84fbeaba]: FINISHED"}}
[debug] [2020-10-04T16:13:30.601Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)\r"}}
[debug] [2020-10-04T16:13:37.513Z] [worker-api-2d638fe5-a45d-4c07-aaa8-2f1d48f51151]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2d638fe5-a45d-4c07-aaa8-2f1d48f51151]: exited"}}
[debug] [2020-10-04T16:13:37.514Z] [worker-api-2d638fe5-a45d-4c07-aaa8-2f1d48f51151]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2d638fe5-a45d-4c07-aaa8-2f1d48f51151]: FINISHED"}}
[debug] [2020-10-04T16:13:37.514Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-10-04T16:13:53.845Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-10-04T16:13:53.845Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-10-04T16:13:53.845Z] Accepted request GET /clone-98d35/us-central1/api/payments/create?total=0 --> api
[debug] [2020-10-04T16:13:53.845Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2020-10-04T16:13:53.848Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T16:13:53.848Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-10-04T16:13:53.849Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T16:13:53.849Z] [worker-api-8113c2f6-7724-4ff7-bbcd-3cc4d1af2465]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\24856 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8113c2f6-7724-4ff7-bbcd-3cc4d1af2465]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\24856"}}
[debug] [2020-10-04T16:13:53.849Z] [worker-api-8113c2f6-7724-4ff7-bbcd-3cc4d1af2465]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8113c2f6-7724-4ff7-bbcd-3cc4d1af2465]: BUSY"}}
[debug] [2020-10-04T16:13:54.445Z] [runtime-status] [24856] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24856] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T16:13:54.447Z] [runtime-status] [24856] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24856] Disabled runtime features: undefined"}}
[debug] [2020-10-04T16:13:54.454Z] [runtime-status] [24856] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24856] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:13:54.457Z] [runtime-status] [24856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:13:54.458Z] [runtime-status] [24856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:13:54.462Z] [runtime-status] [24856] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24856] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T16:13:54.463Z] [runtime-status] [24856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:13:54.522Z] [runtime-status] [24856] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24856] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T16:13:54.523Z] [runtime-status] [24856] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24856] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:13:54.524Z] [runtime-status] [24856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:13:54.527Z] [runtime-status] [24856] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24856] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:13:54.528Z] [runtime-status] [24856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:13:54.528Z] [runtime-status] [24856] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24856] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:13:54.721Z] [runtime-status] [24856] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24856] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T16:13:54.723Z] [runtime-status] [24856] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24856] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T16:13:54.724Z] [runtime-status] [24856] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24856] Running api in mode HTTPS"}}
[debug] [2020-10-04T16:13:54.728Z] [runtime-status] [24856] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\24856 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24856] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\24856"}}
[debug] [2020-10-04T16:13:54.731Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T16:13:54.744Z] [runtime-status] [24856] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24856] Ephemeral server handling GET request"}}
[debug] [2020-10-04T16:13:54.751Z] [runtime-status] [24856] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24856] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-10-04T16:13:54.755Z] [worker-api-8113c2f6-7724-4ff7-bbcd-3cc4d1af2465]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8113c2f6-7724-4ff7-bbcd-3cc4d1af2465]: IDLE"}}
[debug] [2020-10-04T16:13:54.755Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-10-04T16:27:10.851Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-10-04T16:27:10.851Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-10-04T16:27:10.851Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=0 --> api
[debug] [2020-10-04T16:27:10.851Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T16:27:10.852Z] [worker-api-8113c2f6-7724-4ff7-bbcd-3cc4d1af2465]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\24856 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8113c2f6-7724-4ff7-bbcd-3cc4d1af2465]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\24856"}}
[debug] [2020-10-04T16:27:10.852Z] [worker-api-8113c2f6-7724-4ff7-bbcd-3cc4d1af2465]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8113c2f6-7724-4ff7-bbcd-3cc4d1af2465]: BUSY"}}
[debug] [2020-10-04T16:27:10.853Z] [runtime-status] [24856] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24856] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T16:27:10.854Z] [runtime-status] [24856] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24856] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T16:27:10.855Z] [runtime-status] [24856] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24856] Running api in mode HTTPS"}}
[debug] [2020-10-04T16:27:10.855Z] [runtime-status] [24856] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\24856 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24856] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\24856"}}
[debug] [2020-10-04T16:27:10.856Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T16:27:10.861Z] [runtime-status] [24856] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24856] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0"}}
[debug] [2020-10-04T16:27:10.864Z] [runtime-status] [24856] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [24856] Ephemeral server survived."}}
[info] >  (node:24856) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:24856) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:24856) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:24856) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:24856) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:24856) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:24856) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:24856) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:24856) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-10-04T16:27:19.220Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-10-04T16:27:19.220Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-10-04T16:27:19.220Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=8997 --> api
[debug] [2020-10-04T16:27:19.227Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T16:27:19.227Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-10-04T16:27:19.227Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T16:27:19.228Z] [worker-api-e3ce255c-4a2b-4378-acc3-487fc6f2a060]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\21664 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e3ce255c-4a2b-4378-acc3-487fc6f2a060]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\21664"}}
[debug] [2020-10-04T16:27:19.228Z] [worker-api-e3ce255c-4a2b-4378-acc3-487fc6f2a060]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e3ce255c-4a2b-4378-acc3-487fc6f2a060]: BUSY"}}
[debug] [2020-10-04T16:27:19.928Z] [runtime-status] [21664] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21664] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T16:27:19.930Z] [runtime-status] [21664] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21664] Disabled runtime features: undefined"}}
[debug] [2020-10-04T16:27:19.935Z] [runtime-status] [21664] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21664] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:27:19.938Z] [runtime-status] [21664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:27:19.939Z] [runtime-status] [21664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:27:19.949Z] [runtime-status] [21664] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21664] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T16:27:19.949Z] [runtime-status] [21664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:27:20.012Z] [runtime-status] [21664] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21664] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T16:27:20.013Z] [runtime-status] [21664] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21664] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:27:20.013Z] [runtime-status] [21664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:27:20.015Z] [runtime-status] [21664] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21664] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:27:20.016Z] [runtime-status] [21664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:27:20.016Z] [runtime-status] [21664] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21664] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:27:20.203Z] [runtime-status] [21664] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21664] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T16:27:20.204Z] [runtime-status] [21664] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21664] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T16:27:20.205Z] [runtime-status] [21664] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21664] Running api in mode HTTPS"}}
[debug] [2020-10-04T16:27:20.209Z] [runtime-status] [21664] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\21664 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21664] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\21664"}}
[debug] [2020-10-04T16:27:20.213Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T16:27:20.222Z] [runtime-status] [21664] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21664] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  8997 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  8997","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  8997"}}
[debug] [2020-10-04T16:27:20.228Z] [runtime-status] [21664] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [21664] Ephemeral server survived."}}
[info] >  (node:21664) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:21664) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:21664) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:21664) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:21664) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:21664) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:21664) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:21664) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:21664) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-10-04T16:28:05.485Z] File C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js changed, reloading triggers"}}
[debug] [2020-10-04T16:28:06.487Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-10-04T16:28:06.487Z] [worker-~diagnostic~-3ea5971a-57bd-4cbb-a705-0668034a3ab5]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3ea5971a-57bd-4cbb-a705-0668034a3ab5]: FINISHING"}}
[debug] [2020-10-04T16:28:06.487Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2020-10-04T16:28:06.487Z] [worker-api-8113c2f6-7724-4ff7-bbcd-3cc4d1af2465]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8113c2f6-7724-4ff7-bbcd-3cc4d1af2465]: FINISHING"}}
[debug] [2020-10-04T16:28:06.487Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2020-10-04T16:28:06.488Z] [worker-api-e3ce255c-4a2b-4378-acc3-487fc6f2a060]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e3ce255c-4a2b-4378-acc3-487fc6f2a060]: FINISHING"}}
[debug] [2020-10-04T16:28:06.492Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-10-04T16:28:06.493Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-10-04T16:28:06.493Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-10-04T16:28:06.493Z] [worker-~diagnostic~-2efce81f-380d-4c42-95ee-55b99beef132]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\24600 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2efce81f-380d-4c42-95ee-55b99beef132]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\24600"}}
[debug] [2020-10-04T16:28:06.493Z] [worker-~diagnostic~-2efce81f-380d-4c42-95ee-55b99beef132]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2efce81f-380d-4c42-95ee-55b99beef132]: BUSY"}}
[debug] [2020-10-04T16:28:06.495Z] [worker-~diagnostic~-3ea5971a-57bd-4cbb-a705-0668034a3ab5]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3ea5971a-57bd-4cbb-a705-0668034a3ab5]: exited"}}
[debug] [2020-10-04T16:28:06.496Z] [worker-~diagnostic~-3ea5971a-57bd-4cbb-a705-0668034a3ab5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3ea5971a-57bd-4cbb-a705-0668034a3ab5]: FINISHED"}}
[debug] [2020-10-04T16:28:07.258Z] [runtime-status] [24600] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [24600] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T16:28:07.261Z] [runtime-status] [24600] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [24600] Disabled runtime features: undefined"}}
[debug] [2020-10-04T16:28:07.268Z] [runtime-status] [24600] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [24600] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:28:07.270Z] [runtime-status] [24600] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [24600] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:28:07.271Z] [runtime-status] [24600] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [24600] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:28:07.276Z] [runtime-status] [24600] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [24600] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T16:28:07.276Z] [runtime-status] [24600] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [24600] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:28:07.337Z] [runtime-status] [24600] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [24600] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T16:28:07.337Z] [runtime-status] [24600] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [24600] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:28:07.337Z] [runtime-status] [24600] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [24600] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:28:07.339Z] [runtime-status] [24600] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [24600] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:28:07.340Z] [runtime-status] [24600] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [24600] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:28:07.340Z] [runtime-status] [24600] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [24600] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:28:07.595Z] [worker-~diagnostic~-2efce81f-380d-4c42-95ee-55b99beef132]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2efce81f-380d-4c42-95ee-55b99beef132]: IDLE"}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)\r"}}
[debug] [2020-10-04T16:28:10.869Z] [worker-api-8113c2f6-7724-4ff7-bbcd-3cc4d1af2465]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8113c2f6-7724-4ff7-bbcd-3cc4d1af2465]: exited"}}
[debug] [2020-10-04T16:28:10.869Z] [worker-api-8113c2f6-7724-4ff7-bbcd-3cc4d1af2465]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8113c2f6-7724-4ff7-bbcd-3cc4d1af2465]: FINISHED"}}
[debug] [2020-10-04T16:28:10.869Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-10-04T16:28:12.600Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-10-04T16:28:12.600Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-10-04T16:28:12.600Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=5998 --> api
[debug] [2020-10-04T16:28:12.605Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-10-04T16:28:12.605Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2020-10-04T16:28:12.684Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T16:28:12.684Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-10-04T16:28:12.684Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T16:28:12.684Z] [worker-api-1683baf7-eaa5-4019-bc5f-7bbbf62db2d5]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\22568 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1683baf7-eaa5-4019-bc5f-7bbbf62db2d5]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\22568"}}
[debug] [2020-10-04T16:28:12.684Z] [worker-api-1683baf7-eaa5-4019-bc5f-7bbbf62db2d5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1683baf7-eaa5-4019-bc5f-7bbbf62db2d5]: BUSY"}}
[debug] [2020-10-04T16:28:13.270Z] [runtime-status] [22568] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22568] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T16:28:13.272Z] [runtime-status] [22568] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22568] Disabled runtime features: undefined"}}
[debug] [2020-10-04T16:28:13.277Z] [runtime-status] [22568] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22568] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:28:13.279Z] [runtime-status] [22568] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22568] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:28:13.280Z] [runtime-status] [22568] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22568] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:28:13.287Z] [runtime-status] [22568] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22568] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T16:28:13.288Z] [runtime-status] [22568] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22568] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:28:13.340Z] [runtime-status] [22568] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22568] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T16:28:13.340Z] [runtime-status] [22568] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22568] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:28:13.341Z] [runtime-status] [22568] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22568] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:28:13.343Z] [runtime-status] [22568] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22568] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:28:13.343Z] [runtime-status] [22568] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22568] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:28:13.343Z] [runtime-status] [22568] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22568] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:28:13.514Z] [runtime-status] [22568] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22568] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T16:28:13.516Z] [runtime-status] [22568] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22568] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T16:28:13.517Z] [runtime-status] [22568] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22568] Running api in mode HTTPS"}}
[debug] [2020-10-04T16:28:13.521Z] [runtime-status] [22568] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\22568 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22568] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\22568"}}
[debug] [2020-10-04T16:28:13.525Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T16:28:13.534Z] [runtime-status] [22568] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22568] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  5998 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  5998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  5998"}}
[debug] [2020-10-04T16:28:13.541Z] [runtime-status] [22568] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [22568] Ephemeral server survived."}}
[info] >  (node:22568) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:22568) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:22568) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:22568) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:22568) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:22568) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:22568) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:22568) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:22568) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-10-04T16:28:15.654Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2020-10-04T16:28:15.655Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2020-10-04T16:28:15.655Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=2999 --> api
[debug] [2020-10-04T16:28:15.658Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T16:28:15.658Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2020-10-04T16:28:15.658Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T16:28:15.658Z] [worker-api-30998dd5-b103-42e0-869b-fdfa500838dc]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\3544 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-30998dd5-b103-42e0-869b-fdfa500838dc]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\3544"}}
[debug] [2020-10-04T16:28:15.658Z] [worker-api-30998dd5-b103-42e0-869b-fdfa500838dc]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-30998dd5-b103-42e0-869b-fdfa500838dc]: BUSY"}}
[debug] [2020-10-04T16:28:16.227Z] [runtime-status] [3544] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3544] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T16:28:16.229Z] [runtime-status] [3544] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3544] Disabled runtime features: undefined"}}
[debug] [2020-10-04T16:28:16.233Z] [runtime-status] [3544] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3544] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:28:16.235Z] [runtime-status] [3544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:28:16.236Z] [runtime-status] [3544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:28:16.242Z] [runtime-status] [3544] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3544] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T16:28:16.245Z] [runtime-status] [3544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:28:16.298Z] [runtime-status] [3544] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3544] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T16:28:16.298Z] [runtime-status] [3544] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3544] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:28:16.299Z] [runtime-status] [3544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:28:16.301Z] [runtime-status] [3544] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3544] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:28:16.302Z] [runtime-status] [3544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:28:16.302Z] [runtime-status] [3544] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3544] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:28:16.505Z] [runtime-status] [3544] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3544] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T16:28:16.507Z] [runtime-status] [3544] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3544] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T16:28:16.507Z] [runtime-status] [3544] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3544] Running api in mode HTTPS"}}
[debug] [2020-10-04T16:28:16.515Z] [runtime-status] [3544] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\3544 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3544] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\3544"}}
[debug] [2020-10-04T16:28:16.521Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T16:28:16.532Z] [runtime-status] [3544] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3544] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  2999 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  2999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  2999"}}
[debug] [2020-10-04T16:28:16.542Z] [runtime-status] [3544] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3544] Ephemeral server survived."}}
[info] >  (node:3544) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:3544) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3544) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:3544) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:3544) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3544) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:3544) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:3544) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3544) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)\r"}}
[debug] [2020-10-04T16:28:20.218Z] [worker-api-e3ce255c-4a2b-4378-acc3-487fc6f2a060]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e3ce255c-4a2b-4378-acc3-487fc6f2a060]: exited"}}
[debug] [2020-10-04T16:28:20.218Z] [worker-api-e3ce255c-4a2b-4378-acc3-487fc6f2a060]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e3ce255c-4a2b-4378-acc3-487fc6f2a060]: FINISHED"}}
[debug] [2020-10-04T16:28:20.218Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)\r"}}
[debug] [2020-10-04T16:29:13.529Z] [worker-api-1683baf7-eaa5-4019-bc5f-7bbbf62db2d5]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1683baf7-eaa5-4019-bc5f-7bbbf62db2d5]: exited"}}
[debug] [2020-10-04T16:29:13.529Z] [worker-api-1683baf7-eaa5-4019-bc5f-7bbbf62db2d5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1683baf7-eaa5-4019-bc5f-7bbbf62db2d5]: FINISHED"}}
[debug] [2020-10-04T16:29:13.529Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)\r"}}
[debug] [2020-10-04T16:29:16.536Z] [worker-api-30998dd5-b103-42e0-869b-fdfa500838dc]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-30998dd5-b103-42e0-869b-fdfa500838dc]: exited"}}
[debug] [2020-10-04T16:29:16.536Z] [worker-api-30998dd5-b103-42e0-869b-fdfa500838dc]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-30998dd5-b103-42e0-869b-fdfa500838dc]: FINISHED"}}
[debug] [2020-10-04T16:29:16.536Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-10-04T16:30:52.952Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-10-04T16:30:52.952Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-10-04T16:30:52.952Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=36897 --> api
[debug] [2020-10-04T16:30:52.952Z] [worker-pool] Cleaned up workers for api: 3 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 0"}}
[debug] [2020-10-04T16:30:52.956Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T16:30:52.956Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-10-04T16:30:52.956Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T16:30:52.956Z] [worker-api-46b68b50-e094-499b-b961-f8ea7e87268e]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\25748 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-46b68b50-e094-499b-b961-f8ea7e87268e]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\25748"}}
[debug] [2020-10-04T16:30:52.956Z] [worker-api-46b68b50-e094-499b-b961-f8ea7e87268e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-46b68b50-e094-499b-b961-f8ea7e87268e]: BUSY"}}
[debug] [2020-10-04T16:30:53.609Z] [runtime-status] [25748] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [25748] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T16:30:53.611Z] [runtime-status] [25748] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [25748] Disabled runtime features: undefined"}}
[debug] [2020-10-04T16:30:53.619Z] [runtime-status] [25748] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [25748] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:30:53.621Z] [runtime-status] [25748] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [25748] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:30:53.622Z] [runtime-status] [25748] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [25748] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:30:53.628Z] [runtime-status] [25748] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [25748] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T16:30:53.629Z] [runtime-status] [25748] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [25748] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:30:53.689Z] [runtime-status] [25748] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [25748] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T16:30:53.690Z] [runtime-status] [25748] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [25748] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:30:53.691Z] [runtime-status] [25748] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [25748] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:30:53.693Z] [runtime-status] [25748] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [25748] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:30:53.694Z] [runtime-status] [25748] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [25748] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:30:53.694Z] [runtime-status] [25748] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [25748] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:30:53.926Z] [runtime-status] [25748] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [25748] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T16:30:53.928Z] [runtime-status] [25748] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [25748] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T16:30:53.928Z] [runtime-status] [25748] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [25748] Running api in mode HTTPS"}}
[debug] [2020-10-04T16:30:53.932Z] [runtime-status] [25748] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\25748 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [25748] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\25748"}}
[debug] [2020-10-04T16:30:53.935Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T16:30:53.946Z] [runtime-status] [25748] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [25748] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  36897 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  36897","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  36897"}}
[debug] [2020-10-04T16:30:53.952Z] [runtime-status] [25748] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [25748] Ephemeral server survived."}}
[info] >  (node:25748) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:25748) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:25748) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:25748) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:25748) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:25748) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:25748) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:25748) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:25748) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)\r"}}
[debug] [2020-10-04T16:31:53.943Z] [worker-api-46b68b50-e094-499b-b961-f8ea7e87268e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-46b68b50-e094-499b-b961-f8ea7e87268e]: exited"}}
[debug] [2020-10-04T16:31:53.943Z] [worker-api-46b68b50-e094-499b-b961-f8ea7e87268e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-46b68b50-e094-499b-b961-f8ea7e87268e]: FINISHED"}}
[debug] [2020-10-04T16:31:53.943Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-10-04T16:40:36.010Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-10-04T16:40:36.010Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-10-04T16:40:36.010Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=0 --> api
[debug] [2020-10-04T16:40:36.010Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-10-04T16:40:36.146Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T16:40:36.147Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-10-04T16:40:36.147Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T16:40:36.147Z] [worker-api-d326f3f7-7816-4525-945e-473f21104061]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\23520 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d326f3f7-7816-4525-945e-473f21104061]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\23520"}}
[debug] [2020-10-04T16:40:36.147Z] [worker-api-d326f3f7-7816-4525-945e-473f21104061]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d326f3f7-7816-4525-945e-473f21104061]: BUSY"}}
[debug] [2020-10-04T16:40:36.830Z] [runtime-status] [23520] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23520] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T16:40:36.834Z] [runtime-status] [23520] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23520] Disabled runtime features: undefined"}}
[debug] [2020-10-04T16:40:36.842Z] [runtime-status] [23520] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23520] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:40:36.844Z] [runtime-status] [23520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:40:36.845Z] [runtime-status] [23520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:40:36.849Z] [runtime-status] [23520] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23520] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T16:40:36.850Z] [runtime-status] [23520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:40:36.916Z] [runtime-status] [23520] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23520] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T16:40:36.916Z] [runtime-status] [23520] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23520] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:40:36.917Z] [runtime-status] [23520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:40:36.918Z] [runtime-status] [23520] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23520] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:40:36.919Z] [runtime-status] [23520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:40:36.919Z] [runtime-status] [23520] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23520] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:40:37.191Z] [runtime-status] [23520] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23520] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T16:40:37.193Z] [runtime-status] [23520] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23520] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T16:40:37.195Z] [runtime-status] [23520] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23520] Running api in mode HTTPS"}}
[debug] [2020-10-04T16:40:37.206Z] [runtime-status] [23520] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\23520 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23520] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\23520"}}
[debug] [2020-10-04T16:40:37.221Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T16:40:37.234Z] [runtime-status] [23520] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23520] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0"}}
[debug] [2020-10-04T16:40:37.243Z] [runtime-status] [23520] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23520] Ephemeral server survived."}}
[info] >  (node:23520) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:23520) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:23520) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:23520) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:23520) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:23520) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:23520) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:23520) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:23520) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)\r"}}
[debug] [2020-10-04T16:41:37.206Z] [worker-api-d326f3f7-7816-4525-945e-473f21104061]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d326f3f7-7816-4525-945e-473f21104061]: exited"}}
[debug] [2020-10-04T16:41:37.206Z] [worker-api-d326f3f7-7816-4525-945e-473f21104061]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d326f3f7-7816-4525-945e-473f21104061]: FINISHED"}}
[debug] [2020-10-04T16:41:37.206Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-10-04T16:43:17.808Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-10-04T16:43:17.808Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-10-04T16:43:17.808Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=0 --> api
[debug] [2020-10-04T16:43:17.809Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-10-04T16:43:17.813Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T16:43:17.813Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-10-04T16:43:17.813Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T16:43:17.813Z] [worker-api-80c67710-5f85-4a00-b093-092ac4b68cb3]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\23480 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-80c67710-5f85-4a00-b093-092ac4b68cb3]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\23480"}}
[debug] [2020-10-04T16:43:17.813Z] [worker-api-80c67710-5f85-4a00-b093-092ac4b68cb3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-80c67710-5f85-4a00-b093-092ac4b68cb3]: BUSY"}}
[debug] [2020-10-04T16:43:18.512Z] [runtime-status] [23480] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23480] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T16:43:18.514Z] [runtime-status] [23480] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23480] Disabled runtime features: undefined"}}
[debug] [2020-10-04T16:43:18.519Z] [runtime-status] [23480] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23480] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:43:18.521Z] [runtime-status] [23480] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23480] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:43:18.522Z] [runtime-status] [23480] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23480] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:43:18.531Z] [runtime-status] [23480] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23480] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T16:43:18.531Z] [runtime-status] [23480] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23480] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:43:18.588Z] [runtime-status] [23480] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23480] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T16:43:18.588Z] [runtime-status] [23480] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23480] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:43:18.589Z] [runtime-status] [23480] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23480] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:43:18.590Z] [runtime-status] [23480] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23480] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:43:18.591Z] [runtime-status] [23480] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23480] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:43:18.591Z] [runtime-status] [23480] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23480] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:43:18.781Z] [runtime-status] [23480] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23480] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T16:43:18.782Z] [runtime-status] [23480] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23480] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T16:43:18.782Z] [runtime-status] [23480] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23480] Running api in mode HTTPS"}}
[debug] [2020-10-04T16:43:18.787Z] [runtime-status] [23480] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\23480 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23480] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\23480"}}
[debug] [2020-10-04T16:43:18.790Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T16:43:18.801Z] [runtime-status] [23480] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23480] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  0"}}
[debug] [2020-10-04T16:43:18.808Z] [runtime-status] [23480] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [23480] Ephemeral server survived."}}
[info] >  (node:23480) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:23480) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:23480) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at app.post (C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js:26:52) {"user":"    at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js:26:52)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)"}}
[info] >      at Route.dispatch (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:281:22"}}
[info] >      at Function.process_params (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)"}}
[info] >      at next (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)"}}
[info] >      at jsonParser (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Rafał\Desktop\amazon-clone-react\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >  (node:23480) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:23480) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:23480) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:23480) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:23480) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:23480) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout.setTimeout [as _onTimeout] (C:\Users\Rafał\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (C:\\Users\\Rafał\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)\r"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)\r"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)\r"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)\r"}}
[debug] [2020-10-04T16:44:18.810Z] [worker-api-80c67710-5f85-4a00-b093-092ac4b68cb3]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-80c67710-5f85-4a00-b093-092ac4b68cb3]: exited"}}
[debug] [2020-10-04T16:44:18.810Z] [worker-api-80c67710-5f85-4a00-b093-092ac4b68cb3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-80c67710-5f85-4a00-b093-092ac4b68cb3]: FINISHED"}}
[debug] [2020-10-04T16:44:18.810Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-10-04T16:53:54.972Z] File C:\Users\Rafał\Desktop\amazon-clone-react\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\index.js changed, reloading triggers"}}
[debug] [2020-10-04T16:53:55.974Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-10-04T16:53:55.974Z] [worker-~diagnostic~-2efce81f-380d-4c42-95ee-55b99beef132]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2efce81f-380d-4c42-95ee-55b99beef132]: FINISHING"}}
[debug] [2020-10-04T16:53:55.974Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-10-04T16:53:55.978Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-10-04T16:53:55.978Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-10-04T16:53:55.978Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-10-04T16:53:55.978Z] [worker-~diagnostic~-1d65636f-05c1-442c-8501-095b02401fe4]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\10324 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1d65636f-05c1-442c-8501-095b02401fe4]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\10324"}}
[debug] [2020-10-04T16:53:55.978Z] [worker-~diagnostic~-1d65636f-05c1-442c-8501-095b02401fe4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1d65636f-05c1-442c-8501-095b02401fe4]: BUSY"}}
[debug] [2020-10-04T16:53:55.981Z] [worker-~diagnostic~-2efce81f-380d-4c42-95ee-55b99beef132]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2efce81f-380d-4c42-95ee-55b99beef132]: exited"}}
[debug] [2020-10-04T16:53:55.981Z] [worker-~diagnostic~-2efce81f-380d-4c42-95ee-55b99beef132]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2efce81f-380d-4c42-95ee-55b99beef132]: FINISHED"}}
[debug] [2020-10-04T16:53:56.639Z] [runtime-status] [10324] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10324] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T16:53:56.641Z] [runtime-status] [10324] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10324] Disabled runtime features: undefined"}}
[debug] [2020-10-04T16:53:56.645Z] [runtime-status] [10324] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10324] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:53:56.647Z] [runtime-status] [10324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:53:56.648Z] [runtime-status] [10324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:53:56.654Z] [runtime-status] [10324] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10324] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T16:53:56.655Z] [runtime-status] [10324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:53:56.712Z] [runtime-status] [10324] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10324] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T16:53:56.713Z] [runtime-status] [10324] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10324] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:53:56.714Z] [runtime-status] [10324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:53:56.715Z] [runtime-status] [10324] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10324] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:53:56.715Z] [runtime-status] [10324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:53:56.715Z] [runtime-status] [10324] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10324] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:53:56.952Z] [worker-~diagnostic~-1d65636f-05c1-442c-8501-095b02401fe4]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1d65636f-05c1-442c-8501-095b02401fe4]: IDLE"}}
[debug] [2020-10-04T16:54:24.018Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-10-04T16:54:24.019Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-10-04T16:54:24.019Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=26998 --> api
[debug] [2020-10-04T16:54:24.019Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-10-04T16:54:24.023Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-10-04T16:54:24.023Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-10-04T16:54:24.023Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T16:54:24.023Z] [worker-api-0ae22447-e234-46d0-a670-80f4986ae29a]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\3760 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0ae22447-e234-46d0-a670-80f4986ae29a]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\3760"}}
[debug] [2020-10-04T16:54:24.023Z] [worker-api-0ae22447-e234-46d0-a670-80f4986ae29a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0ae22447-e234-46d0-a670-80f4986ae29a]: BUSY"}}
[debug] [2020-10-04T16:54:24.691Z] [runtime-status] [3760] Functions runtime initialized. {"cwd":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions","node_version":"10.16.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\",\"node_version\":\"10.16.2\"}"}}
[debug] [2020-10-04T16:54:24.693Z] [runtime-status] [3760] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Disabled runtime features: undefined"}}
[debug] [2020-10-04T16:54:24.700Z] [runtime-status] [3760] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:54:24.702Z] [runtime-status] [3760] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:54:24.703Z] [runtime-status] [3760] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:54:24.707Z] [runtime-status] [3760] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-10-04T16:54:24.708Z] [runtime-status] [3760] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:54:24.764Z] [runtime-status] [3760] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-10-04T16:54:24.764Z] [runtime-status] [3760] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:54:24.765Z] [runtime-status] [3760] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:54:24.766Z] [runtime-status] [3760] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:54:24.766Z] [runtime-status] [3760] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-10-04T16:54:24.767Z] [runtime-status] [3760] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Rafał\\\\Desktop\\\\amazon-clone-react\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-10-04T16:54:24.955Z] [runtime-status] [3760] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T16:54:24.957Z] [runtime-status] [3760] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T16:54:24.957Z] [runtime-status] [3760] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Running api in mode HTTPS"}}
[debug] [2020-10-04T16:54:24.961Z] [runtime-status] [3760] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\3760 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\3760"}}
[debug] [2020-10-04T16:54:24.967Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T16:54:24.980Z] [runtime-status] [3760] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  26998 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  26998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  26998"}}
[debug] [2020-10-04T16:54:25.000Z] [runtime-status] [3760] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-10-04T16:54:25.755Z] [worker-api-0ae22447-e234-46d0-a670-80f4986ae29a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0ae22447-e234-46d0-a670-80f4986ae29a]: IDLE"}}
[debug] [2020-10-04T16:54:25.755Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-10-04T18:32:37.991Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-10-04T18:32:37.994Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-10-04T18:32:37.994Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=93797 --> api
[debug] [2020-10-04T18:32:37.995Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T18:32:37.996Z] [worker-api-0ae22447-e234-46d0-a670-80f4986ae29a]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\3760 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0ae22447-e234-46d0-a670-80f4986ae29a]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\3760"}}
[debug] [2020-10-04T18:32:37.996Z] [worker-api-0ae22447-e234-46d0-a670-80f4986ae29a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0ae22447-e234-46d0-a670-80f4986ae29a]: BUSY"}}
[debug] [2020-10-04T18:32:38.007Z] [runtime-status] [3760] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T18:32:38.010Z] [runtime-status] [3760] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T18:32:38.011Z] [runtime-status] [3760] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Running api in mode HTTPS"}}
[debug] [2020-10-04T18:32:38.014Z] [runtime-status] [3760] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\3760 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\3760"}}
[debug] [2020-10-04T18:32:38.021Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T18:32:38.028Z] [runtime-status] [3760] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  93797 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  93797","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  93797"}}
[debug] [2020-10-04T18:32:38.036Z] [runtime-status] [3760] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-10-04T18:32:38.525Z] [worker-api-0ae22447-e234-46d0-a670-80f4986ae29a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0ae22447-e234-46d0-a670-80f4986ae29a]: IDLE"}}
[debug] [2020-10-04T18:32:38.525Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-10-04T18:45:17.695Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-10-04T18:45:17.695Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-10-04T18:45:17.696Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=180694 --> api
[debug] [2020-10-04T18:45:17.696Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T18:45:17.696Z] [worker-api-0ae22447-e234-46d0-a670-80f4986ae29a]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\3760 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0ae22447-e234-46d0-a670-80f4986ae29a]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\3760"}}
[debug] [2020-10-04T18:45:17.696Z] [worker-api-0ae22447-e234-46d0-a670-80f4986ae29a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0ae22447-e234-46d0-a670-80f4986ae29a]: BUSY"}}
[debug] [2020-10-04T18:45:17.696Z] [runtime-status] [3760] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T18:45:17.698Z] [runtime-status] [3760] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T18:45:17.698Z] [runtime-status] [3760] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Running api in mode HTTPS"}}
[debug] [2020-10-04T18:45:17.699Z] [runtime-status] [3760] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\3760 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\3760"}}
[debug] [2020-10-04T18:45:17.700Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T18:45:17.703Z] [runtime-status] [3760] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  180694 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  180694","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  180694"}}
[debug] [2020-10-04T18:45:17.704Z] [runtime-status] [3760] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-10-04T18:45:18.223Z] [worker-api-0ae22447-e234-46d0-a670-80f4986ae29a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0ae22447-e234-46d0-a670-80f4986ae29a]: IDLE"}}
[debug] [2020-10-04T18:45:18.223Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-10-04T18:46:38.388Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-10-04T18:46:38.388Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-10-04T18:46:38.388Z] Accepted request POST /clone-98d35/us-central1/api/payments/create?total=9899 --> api
[debug] [2020-10-04T18:46:38.388Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-10-04T18:46:38.388Z] [worker-api-0ae22447-e234-46d0-a670-80f4986ae29a]: Assigning socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\3760 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0ae22447-e234-46d0-a670-80f4986ae29a]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\3760"}}
[debug] [2020-10-04T18:46:38.388Z] [worker-api-0ae22447-e234-46d0-a670-80f4986ae29a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0ae22447-e234-46d0-a670-80f4986ae29a]: BUSY"}}
[debug] [2020-10-04T18:46:38.389Z] [runtime-status] [3760] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-10-04T18:46:38.391Z] [runtime-status] [3760] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-10-04T18:46:38.392Z] [runtime-status] [3760] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Running api in mode HTTPS"}}
[debug] [2020-10-04T18:46:38.392Z] [runtime-status] [3760] Attempting to listen to socketPath: \\?\pipe\C:\Users\Rafał\Desktop\amazon-clone-react\functions\3760 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Rafał\\Desktop\\amazon-clone-react\\functions\\3760"}}
[debug] [2020-10-04T18:46:38.394Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-10-04T18:46:38.397Z] [runtime-status] [3760] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Ephemeral server handling POST request"}}
[info] >  PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  9899 {"user":"PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  9899","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m PAYMENT REQUEST RECIEVED BOOM !!! FOR THIS AMOUNT >>>  9899"}}
[debug] [2020-10-04T18:46:38.401Z] [runtime-status] [3760] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3760] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-10-04T18:46:38.831Z] [worker-api-0ae22447-e234-46d0-a670-80f4986ae29a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0ae22447-e234-46d0-a670-80f4986ae29a]: IDLE"}}
[debug] [2020-10-04T18:46:38.832Z] [work-queue] {"queueLength":0,"workRunningCount":0}
